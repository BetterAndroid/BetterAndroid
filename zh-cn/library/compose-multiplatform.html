<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.0">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/BetterAndroid/images/logo.png"><title>compose-multiplatform | Better Android</title><meta name="description" content="为 Android 创建更多有用的工具扩展">
    <link rel="preload" href="/BetterAndroid/assets/style-Rgr8LWAc.css" as="style"><link rel="stylesheet" href="/BetterAndroid/assets/style-Rgr8LWAc.css">
    <link rel="modulepreload" href="/BetterAndroid/assets/app-ewiN1Yda.js"><link rel="modulepreload" href="/BetterAndroid/assets/compose-multiplatform.html-bodS7yfU.js"><link rel="modulepreload" href="/BetterAndroid/assets/compose-multiplatform.html-0Kgsz2WJ.js">
    <link rel="prefetch" href="/BetterAndroid/assets/index.html-WNhGlR3J.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-b60QpO01.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-8WnkXyDT.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/basic.html-EJIReltC.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/r8-proguard.html-Yl0gWFcb.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/about.html-tDzGS85N.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/changelog.html-_goXl9fS.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/contacts.html-NZotCVhv.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/future.html-GrvQpO43.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/home.html-XkbATsWj.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/quick-start.html-6-vqqRIO.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-extension.html-oJXyLZth.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-multiplatform.html-0QaRNGSM.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/permission-extension.html-Lhyy4FO4.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/system-extension.html-6yZYDsVk.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component-adapter.html-YsG4MHvR.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component.html-4AspX7jW.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-extension.html-3aECtvxv.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/about.html-1VJUKf1D.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/changelog.html-asaq8sPr.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/contacts.html-8qKP4333.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/future.html-G41ap5rf.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/basic.html-kmRarnM9.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/r8-proguard.html-GzppQxpQ.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/home.html-OhhOvxle.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/quick-start.html-c3d1tQQ_.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-extension.html-9XGv4nqt.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/permission-extension.html-APDCRUbJ.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/system-extension.html-oOFuYGL2.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component-adapter.html-HewNZXRx.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component.html-hnMjoPP8.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-extension.html-8ECFEaAl.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/404.html-6Yl8cQE3.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-bPCXBuXA.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-eJJAhlCk.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-l2mvclq5.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/basic.html-PMY69dgl.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/r8-proguard.html-VOsKKEY3.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/about.html-IRYJCvxF.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/changelog.html-1wnv5qV1.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/contacts.html-E-k-0lwl.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/future.html-7ye7VQ7n.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/home.html-tXl8Jw1z.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/quick-start.html-BxpEmjjh.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-extension.html-JOc9Sg9p.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-multiplatform.html-x-RepmAc.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/permission-extension.html-GMLL5sqy.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/system-extension.html-Z-zExpmX.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component-adapter.html-nG2c2_eZ.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component.html-Z7s9JtI3.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-extension.html-1ZQ-XPTw.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/about.html-jdwxky0b.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/changelog.html-lGUwEgss.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/contacts.html-rXAeZMpB.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/future.html-mxGhb_Sa.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/basic.html-fP3jVEnw.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/r8-proguard.html-DcUjv9H4.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/home.html-_rxUteQ6.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/quick-start.html-QKdEu6xd.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-extension.html-xkXGHBD1.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/permission-extension.html-oaqB1dBe.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/system-extension.html-qAhaGJko.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component-adapter.html-G9ndYolO.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component.html-EURR1Lbf.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-extension.html-9SlxXmdE.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/404.html-KImwssRQ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/BetterAndroid/zh-cn/" class=""><img class="logo" src="/BetterAndroid/images/logo.png" alt="Better Android"><span class="site-name can-hide">Better Android</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="导航"><span class="title">导航</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="导航"><span class="title">导航</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>入门</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/guide/home.html" class="" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/guide/quick-start.html" class="" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>依赖</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/ui-component.html" class="" aria-label="ui-component"><!--[--><!--]--> ui-component <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/ui-component-adapter.html" class="" aria-label="ui-component-adapter"><!--[--><!--]--> ui-component-adapter <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/ui-extension.html" class="" aria-label="ui-extension"><!--[--><!--]--> ui-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/system-extension.html" class="" aria-label="system-extension"><!--[--><!--]--> system-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/permission-extension.html" class="" aria-label="permission-extension"><!--[--><!--]--> permission-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/compose-extension.html" class="" aria-label="compose-extension"><!--[--><!--]--> compose-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html" class="router-link-active router-link-exact-active router-link-active" aria-label="compose-multiplatform"><!--[--><!--]--> compose-multiplatform <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>配置</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/config/basic.html" class="" aria-label="基本配置"><!--[--><!--]--> 基本配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/config/r8-proguard.html" class="" aria-label="R8 与 Proguard 混淆"><!--[--><!--]--> R8 与 Proguard 混淆 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>关于</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/about/changelog.html" class="" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/about/future.html" class="" aria-label="展望未来"><!--[--><!--]--> 展望未来 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/about/contacts.html" class="" aria-label="联系我们"><!--[--><!--]--> 联系我们 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/about/about.html" class="" aria-label="关于此文档"><!--[--><!--]--> 关于此文档 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/BetterAndroid/zh-cn/about/contacts" class="" aria-label="联系我们"><!--[--><!--]--> 联系我们 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">简体中文 (CN)</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">简体中文 (CN)</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/BetterAndroid/en/library/compose-multiplatform.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/BetterAndroid/BetterAndroid" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="切换颜色模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="导航"><span class="title">导航</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="导航"><span class="title">导航</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>入门</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/guide/home.html" class="" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/guide/quick-start.html" class="" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>依赖</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/ui-component.html" class="" aria-label="ui-component"><!--[--><!--]--> ui-component <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/ui-component-adapter.html" class="" aria-label="ui-component-adapter"><!--[--><!--]--> ui-component-adapter <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/ui-extension.html" class="" aria-label="ui-extension"><!--[--><!--]--> ui-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/system-extension.html" class="" aria-label="system-extension"><!--[--><!--]--> system-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/permission-extension.html" class="" aria-label="permission-extension"><!--[--><!--]--> permission-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/library/compose-extension.html" class="" aria-label="compose-extension"><!--[--><!--]--> compose-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html" class="router-link-active router-link-exact-active router-link-active" aria-label="compose-multiplatform"><!--[--><!--]--> compose-multiplatform <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>配置</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/config/basic.html" class="" aria-label="基本配置"><!--[--><!--]--> 基本配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/config/r8-proguard.html" class="" aria-label="R8 与 Proguard 混淆"><!--[--><!--]--> R8 与 Proguard 混淆 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>关于</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/about/changelog.html" class="" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/about/future.html" class="" aria-label="展望未来"><!--[--><!--]--> 展望未来 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/about/contacts.html" class="" aria-label="联系我们"><!--[--><!--]--> 联系我们 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/zh-cn/about/about.html" class="" aria-label="关于此文档"><!--[--><!--]--> 关于此文档 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/BetterAndroid/zh-cn/about/contacts" class="" aria-label="联系我们"><!--[--><!--]--> 联系我们 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">简体中文 (CN)</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">简体中文 (CN)</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/BetterAndroid/en/library/compose-multiplatform.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/BetterAndroid/BetterAndroid" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">入门 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/BetterAndroid/zh-cn/guide/home.html" class="sidebar-item" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/guide/quick-start.html" class="sidebar-item" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">依赖 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/BetterAndroid/zh-cn/library/ui-component.html" class="sidebar-item" aria-label="ui-component"><!--[--><!--]--> ui-component <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/library/ui-component-adapter.html" class="sidebar-item" aria-label="ui-component-adapter"><!--[--><!--]--> ui-component-adapter <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/library/ui-extension.html" class="sidebar-item" aria-label="ui-extension"><!--[--><!--]--> ui-extension <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/library/system-extension.html" class="sidebar-item" aria-label="system-extension"><!--[--><!--]--> system-extension <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/library/permission-extension.html" class="sidebar-item" aria-label="permission-extension"><!--[--><!--]--> permission-extension <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/library/compose-extension.html" class="sidebar-item" aria-label="compose-extension"><!--[--><!--]--> compose-extension <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="compose-multiplatform"><!--[--><!--]--> compose-multiplatform <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html#配置依赖" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置依赖"><!--[--><!--]--> 配置依赖 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html#sweetdependency-推荐" class="router-link-active router-link-exact-active sidebar-item" aria-label="SweetDependency (推荐)"><!--[--><!--]--> SweetDependency (推荐) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html#version-catalog" class="router-link-active router-link-exact-active sidebar-item" aria-label="Version Catalog"><!--[--><!--]--> Version Catalog <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html#传统方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="传统方式"><!--[--><!--]--> 传统方式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html#功能介绍" class="router-link-active router-link-exact-active sidebar-item" aria-label="功能介绍"><!--[--><!--]--> 功能介绍 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html#初始化配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="初始化配置"><!--[--><!--]--> 初始化配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html#系统事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="系统事件"><!--[--><!--]--> 系统事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/zh-cn/library/compose-multiplatform.html#系统栏-状态栏、导航栏、home-indicator-等" class="router-link-active router-link-exact-active sidebar-item" aria-label="系统栏 (状态栏、导航栏、Home Indicator 等)"><!--[--><!--]--> 系统栏 (状态栏、导航栏、Home Indicator 等) <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">配置 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/BetterAndroid/zh-cn/config/basic.html" class="sidebar-item" aria-label="基本配置"><!--[--><!--]--> 基本配置 <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/config/r8-proguard.html" class="sidebar-item" aria-label="R8 与 Proguard 混淆"><!--[--><!--]--> R8 与 Proguard 混淆 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">关于 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/BetterAndroid/zh-cn/about/changelog.html" class="sidebar-item" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/about/future.html" class="sidebar-item" aria-label="展望未来"><!--[--><!--]--> 展望未来 <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/about/contacts.html" class="sidebar-item" aria-label="联系我们"><!--[--><!--]--> 联系我们 <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/zh-cn/about/about.html" class="sidebar-item" aria-label="关于此文档"><!--[--><!--]--> 关于此文档 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="compose-multiplatform" tabindex="-1"><a class="header-anchor" href="#compose-multiplatform" aria-hidden="true">#</a> compose-multiplatform</h1><p><img src="https://img.shields.io/maven-central/v/com.highcapable.betterandroid/compose-multiplatform?logo=apachemaven&amp;logoColor=orange&amp;style=flat-square" alt="Maven Central"><span style="margin-left:5px;"></span><img src="https://img.shields.io/maven-metadata/v?metadataUrl=https%3A%2F%2Fraw.githubusercontent.com%2FHighCapable%2Fmaven-repository%2Frefs%2Fheads%2Fmain%2Frepository%2Freleases%2Fcom%2Fhighcapable%2Fbetterandroid%2Fcompose-multiplatform%2Fmaven-metadata.xml&amp;logo=apachemaven&amp;logoColor=orange&amp;label=highcapable-maven-releases&amp;style=flat-square" alt="Maven metadata URL"><span style="margin-left:5px;"></span><img src="https://img.shields.io/badge/Min SDK-21-orange?logo=android&amp;style=flat-square" alt="Android Min SDK"></p><p>这是针对 Jetpack Compose 多平台功能的一个依赖。</p><p>目前支持的平台：Android、iOS、Desktop (JVM)。</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>此模块尚在开发与测试，在 <code>1.0.0</code> 版本正式发布前 API 可能会发生变化，欢迎前往 <a href="https://github.com/BetterAndroid/BetterAndroid/issues" target="_blank" rel="noopener noreferrer">GitHub Issues<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a> 向我们提出建议。</p></div><h2 id="配置依赖" tabindex="-1"><a class="header-anchor" href="#配置依赖" aria-hidden="true">#</a> 配置依赖</h2><p>你可以使用如下方式将此模块添加到你的项目中。</p><p>这是一个 Kotlin Multiplatform 依赖，你需要 <code>org.jetbrains.kotlin.multiplatform</code> 插件来应用相关依赖。</p><h3 id="sweetdependency-推荐" tabindex="-1"><a class="header-anchor" href="#sweetdependency-推荐" aria-hidden="true">#</a> SweetDependency (推荐)</h3><p>在你的项目 <code>SweetDependency</code> 配置文件中添加依赖。</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#8DDB8C;">libraries</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">  </span><span style="color:#8DDB8C;">com.highcapable.betterandroid</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;"># commonMain</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#8DDB8C;">compose-multiplatform</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">      </span><span style="color:#8DDB8C;">version</span><span style="color:#ADBAC7;">: </span><span style="color:#96D0FF;">+</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;"># androidMain</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#8DDB8C;">compose-multiplatform-android</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">      </span><span style="color:#8DDB8C;">version-ref</span><span style="color:#ADBAC7;">: </span><span style="color:#96D0FF;">&lt;this&gt;::compose-multiplatform</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;"># iosArm64Main</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#8DDB8C;">compose-multiplatform-iosarm64</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">      </span><span style="color:#8DDB8C;">version-ref</span><span style="color:#ADBAC7;">: </span><span style="color:#96D0FF;">&lt;this&gt;::compose-multiplatform</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;"># iosX64Main</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#8DDB8C;">compose-multiplatform-iosx64</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">      </span><span style="color:#8DDB8C;">version-ref</span><span style="color:#ADBAC7;">: </span><span style="color:#96D0FF;">&lt;this&gt;::compose-multiplatform</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;"># iosSimulatorArm64Main</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#8DDB8C;">compose-multiplatform-iossimulatorarm64</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">      </span><span style="color:#8DDB8C;">version-ref</span><span style="color:#ADBAC7;">: </span><span style="color:#96D0FF;">&lt;this&gt;::compose-multiplatform</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;"># desktopMain</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#8DDB8C;">compose-multiplatform-desktop</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">      </span><span style="color:#8DDB8C;">version-ref</span><span style="color:#ADBAC7;">: </span><span style="color:#96D0FF;">&lt;this&gt;::compose-multiplatform</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在你的项目 <code>build.gradle.kts</code> 中配置依赖。</p><p>如果你在普通的项目中使用多平台依赖，你只需要按需部署对应平台后缀的依赖即可。</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(com.highcapable.betterandroid.compose.multiplatform.android)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(com.highcapable.betterandroid.compose.multiplatform.iosarm64)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(com.highcapable.betterandroid.compose.multiplatform.iosx64)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(com.highcapable.betterandroid.compose.multiplatform.iossimulatorarm64)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(com.highcapable.betterandroid.compose.multiplatform.desktop)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你在多平台项目中使用多平台依赖，你需要在 <code>commonMain</code> 中添加 <code>compose-multiplatform</code> 依赖。</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">kotlin</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">sourceSets</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> commonMain </span><span style="color:#F47067;">by</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getting</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#DCBDFB;">dependencies</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">                </span><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(com.highcapable.betterandroid.compose.multiplatform)</span></span>
<span class="line"><span style="color:#ADBAC7;">            }</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="version-catalog" tabindex="-1"><a class="header-anchor" href="#version-catalog" aria-hidden="true">#</a> Version Catalog</h3><p>在你的项目 <code>gradle/libs.versions.toml</code> 中添加依赖。</p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#ADBAC7;">[</span><span style="color:#F69D50;">versions</span><span style="color:#ADBAC7;">]</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-compose-multiplatform = </span><span style="color:#96D0FF;">&quot;&lt;version&gt;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">[</span><span style="color:#F69D50;">libraries</span><span style="color:#ADBAC7;">]</span></span>
<span class="line"><span style="color:#768390;"># commonMain</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-compose.multiplatform = { module = </span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose.multiplatform&quot;</span><span style="color:#ADBAC7;">, version.ref = </span><span style="color:#96D0FF;">&quot;betterandroid-compose-multiplatform&quot;</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#768390;"># androidMain</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-compose.multiplatform-android = { module = </span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose.multiplatform-android&quot;</span><span style="color:#ADBAC7;">, version.ref = </span><span style="color:#96D0FF;">&quot;betterandroid-compose-multiplatform&quot;</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#768390;"># iosArm64Main</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-compose.multiplatform-iosarm64 = { module = </span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose.multiplatform-iosarm64&quot;</span><span style="color:#ADBAC7;">, version.ref = </span><span style="color:#96D0FF;">&quot;betterandroid-compose-multiplatform&quot;</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#768390;"># iosX64Main</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-compose.multiplatform-iosx64 = { module = </span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose.multiplatform-iosx64&quot;</span><span style="color:#ADBAC7;">, version.ref = </span><span style="color:#96D0FF;">&quot;betterandroid-compose-multiplatform&quot;</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#768390;"># iosSimulatorArm64Main</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-compose.multiplatform-iossimulatorarm64 = { module = </span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose.multiplatform-iossimulatorarm64&quot;</span><span style="color:#ADBAC7;">, version.ref = </span><span style="color:#96D0FF;">&quot;betterandroid-compose-multiplatform&quot;</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#768390;"># desktopMain</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-compose.multiplatform-desktop = { module = </span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose.multiplatform-desktop&quot;</span><span style="color:#ADBAC7;">, version.ref = </span><span style="color:#96D0FF;">&quot;betterandroid-compose-multiplatform&quot;</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在你的项目 <code>build.gradle.kts</code> 中配置依赖。</p><p>如果你在普通的项目中使用多平台依赖，你只需要按需部署对应平台后缀的依赖即可。</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(libs.betterandroid.compose.multiplatform.android)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(libs.betterandroid.compose.multiplatform.iosarm64)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(libs.betterandroid.compose.multiplatform.iosx64)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(libs.betterandroid.compose.multiplatform.iossimulatorarm64)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(libs.betterandroid.compose.multiplatform.desktop)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你在多平台项目中使用多平台依赖，你需要在 <code>commonMain</code> 中添加 <code>compose-multiplatform</code> 依赖。</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">kotlin</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">sourceSets</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> commonMain </span><span style="color:#F47067;">by</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getting</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#DCBDFB;">dependencies</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">                </span><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(libs.betterandroid.compose.multiplatform)</span></span>
<span class="line"><span style="color:#ADBAC7;">            }</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请将 <code>&lt;version&gt;</code> 修改为此文档顶部显示的版本。</p><h3 id="传统方式" tabindex="-1"><a class="header-anchor" href="#传统方式" aria-hidden="true">#</a> 传统方式</h3><p>在你的项目 <code>build.gradle.kts</code> 中配置依赖。</p><p>如果你在普通的项目中使用多平台依赖，你只需要按需部署对应平台后缀的依赖即可。</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose-multiplatform-android:&lt;version&gt;&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose-multiplatform-iosarm64:&lt;version&gt;&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose-multiplatform-iosx64:&lt;version&gt;&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose-multiplatform-iossimulatorarm64:&lt;version&gt;&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose-multiplatform-desktop:&lt;version&gt;&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你在多平台项目中使用多平台依赖，你需要在 <code>commonMain</code> 中添加 <code>compose-multiplatform</code> 依赖。</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">kotlin</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">sourceSets</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> commonMain </span><span style="color:#F47067;">by</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getting</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#DCBDFB;">dependencies</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">                </span><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:compose-multiplatform:&lt;version&gt;&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">            }</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请将 <code>&lt;version&gt;</code> 修改为此文档顶部显示的版本。</p><h2 id="功能介绍" tabindex="-1"><a class="header-anchor" href="#功能介绍" aria-hidden="true">#</a> 功能介绍</h2><p>你可以 <a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform" target="_blank" rel="noopener noreferrer">点击这里<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a> 查看 KDoc。</p><p>为了能让适应了原生 Android 开发的开发者们能够更快地对各种平台进行适配，借助于 Kotlin Multiplatform 与 Jetpack Compose 的跨平台特性，<code>BetterAndroid</code> 无缝地提供了多平台支持。</p><p>以下是目前正在开发、开发完成的功能。</p><p>我们欢迎更多的开发者参与到开发中来，如果可能，欢迎提交 PR 为此项目贡献或通过 <a href="https://github.com/BetterAndroid/BetterAndroid/issues" target="_blank" rel="noopener noreferrer">GitHub Issues<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a> 向我们提出建议。</p><p>标识为 “✅” 的功能表示可用，“❎” 表示平台不支持，“🚧” 表示准备或正在开发中 (WIP)，“🔨” 表示计划开发。</p><table><thead><tr><th>功能名称</th><th>描述</th><th style="text-align:center;">Android</th><th style="text-align:center;">iOS</th><th style="text-align:center;">Desktop</th></tr></thead><tbody><tr><td><code>BackHandler</code></td><td>为 Android 提供系统返回事件的支持</td><td style="text-align:center;">✅</td><td style="text-align:center;">❎</td><td style="text-align:center;">❎</td></tr><tr><td><code>PlatformWindowInsets</code></td><td>为移动平台提供对 Window Insets 的支持</td><td style="text-align:center;">🚧</td><td style="text-align:center;">🚧</td><td style="text-align:center;">❎</td></tr><tr><td><code>PlatformNotificationManager</code></td><td>为系统提供对发送通知、通知管理的支持</td><td style="text-align:center;">🔨</td><td style="text-align:center;">🔨</td><td style="text-align:center;">🔨</td></tr><tr><td><code>PlatformSystemBarsController</code></td><td>为移动平台提供对系统栏相关功能控制的支持</td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td><td style="text-align:center;">❎</td></tr><tr><td><code>PlatformDisplayController</code></td><td>为移动平台提供对屏幕旋转、屏幕亮度控制的支持</td><td style="text-align:center;">🚧</td><td style="text-align:center;">🚧</td><td style="text-align:center;">❎</td></tr><tr><td><code>PlatformHwSensorController</code></td><td>为移动平台提供对硬件传感器的支持 (例如振动)</td><td style="text-align:center;">🔨</td><td style="text-align:center;">🔨</td><td style="text-align:center;">❎</td></tr></tbody></table><p>已经开发完成的功能将在下方对使用方法进行详细介绍。</p><h3 id="初始化配置" tabindex="-1"><a class="header-anchor" href="#初始化配置" aria-hidden="true">#</a> 初始化配置</h3><div class="custom-container tip"><p class="custom-container-title">本节内容</p><blockquote><p>iosMain</p></blockquote><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.platform.uiviewcontroller/-app-component-u-i-view-controller" target="_blank" rel="noopener noreferrer">AppComponentUIViewController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>基础组件 <code>UIViewController</code>。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.platform/-app-component-u-i-view-controller" target="_blank" rel="noopener noreferrer">UIViewController → AppComponentUIViewController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>适用于创建 Compose 起始点的 <code>UIViewController</code> 扩展。</p></div><p>在开始之前，我们建议你按照以下方式对项目结构进行配置。</p><div class="custom-container tip"><p class="custom-container-title">小提示</p><p>我们建议并参考 <a href="/BetterAndroid/zh-cn/guide/quick-start.html#%E9%A1%B9%E7%9B%AE%E6%A8%A1%E7%89%88" class="">快速开始 → 项目模版</a> 来创建项目以免去手动配置。</p><p>你也可以使用 <a href="https://kmp.jetbrains.com" target="_blank" rel="noopener noreferrer">Kotlin Multiplatform Wizard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a> 以自动帮你完成 iOS 项目部分的 Gradle 脚本编译配置。</p></div><h4 id="通用部分" tabindex="-1"><a class="header-anchor" href="#通用部分" aria-hidden="true">#</a> 通用部分</h4><p>请在 <code>commonMain</code> 中创建一个 <code>App.kt</code>，它将作为 Compose 的起始点。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F69D50;">@Composable</span></span>
<span class="line"><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">App</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 你的 Compose 内容</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="android-平台" tabindex="-1"><a class="header-anchor" href="#android-平台" aria-hidden="true">#</a> Android 平台</h4><p>首先，请在对应的 Android 项目中导入 <a href="/BetterAndroid/zh-cn/library/ui-component.html" class="">ui-component</a> 模块。</p><p>然后，请参考 <a href="/BetterAndroid/zh-cn/library/ui-component.html#activity" class="">ui-component → Activity</a> 使用 <code>AppComponentActivty</code> 作为 Compose 的起始点。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MainActivity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppComponentActivity</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">setContent</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#DCBDFB;">App</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ios-平台" tabindex="-1"><a class="header-anchor" href="#ios-平台" aria-hidden="true">#</a> iOS 平台</h4><div class="custom-container warning"><p class="custom-container-title">注意</p><p>你需要有一台能够运行 macOS 并正确配置 Xcode 环境的电脑或虚拟机。</p></div><p>首先，你需要手动创建一个 iOS App 的 Xcode 项目，语言请选择 Swift，并在 <code>Interface</code> 一栏选择 <code>Storyboard</code>。</p><p>然后，请在 <code>iosMain</code> 中的 <code>MainViewController.kt</code> 文件中使用以下方式创建一个 <code>AppComponentUIViewController</code>。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">createMainViewController</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">AppComponentUIViewController</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">App</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后，请确定你在 <code>build.gradle.kts</code> 中为 iOS 项目设置的共享模块名称。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">kotlin</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">listOf</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">iosX64</span><span style="color:#ADBAC7;">(),</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">iosArm64</span><span style="color:#ADBAC7;">(),</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">iosSimulatorArm64</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    ).</span><span style="color:#DCBDFB;">forEach</span><span style="color:#ADBAC7;"> { iosTarget </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        iosTarget.binaries.</span><span style="color:#DCBDFB;">framework</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#768390;">// 设置共享模块名称</span></span>
<span class="line"><span style="color:#ADBAC7;">            baseName </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;ComposeApp&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#768390;">// 建议设置为静态库</span></span>
<span class="line"><span style="color:#ADBAC7;">            isStatic </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，请在 iOS 项目中对 <code>AppDelegate.swift</code> 文件进行以下配置。</p><p>如果你的 iOS 项目是使用 Swift UI 创建的，请手动创建这个文件并移除使用 Swift UI 创建的 <code>SwiftApp.swift</code> 相关文件。</p><blockquote><p>示例如下</p></blockquote><div class="language-swift line-numbers-mode" data-ext="swift"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">import</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">UIKit</span></span>
<span class="line"><span style="color:#F47067;">import</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ComposeApp</span><span style="color:#ADBAC7;"> </span><span style="color:#768390;">// 这里为你的共享模块名称</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">@UIApplicationMain</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">AppDelegate</span><span style="color:#ADBAC7;">: </span><span style="color:#6CB6FF;">UIResponder</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">UIApplicationDelegate </span><span style="color:#ADBAC7;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> window: UIWindow</span><span style="color:#F47067;">?</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">func</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">application</span><span style="color:#ADBAC7;">(</span><span style="color:#DCBDFB;">_</span><span style="color:#ADBAC7;"> application: UIApplication, </span><span style="color:#DCBDFB;">didFinishLaunchingWithOptions</span><span style="color:#ADBAC7;"> launchOptions:</span></span>
<span class="line"><span style="color:#ADBAC7;">        [UIApplication.LaunchOptionsKey: </span><span style="color:#6CB6FF;">Any</span><span style="color:#ADBAC7;">]</span><span style="color:#F47067;">?</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">Bool</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// 创建一个新的 UIWindow</span></span>
<span class="line"><span style="color:#ADBAC7;">        window </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">UIWindow</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">frame</span><span style="color:#ADBAC7;">: UIScreen.main.bounds)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// 设置根视图的控制器</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// MainViewControllerKt 是 ComposeApp.h 中自动生成的 Kotlin 代码</span></span>
<span class="line"><span style="color:#ADBAC7;">        window</span><span style="color:#F47067;">?</span><span style="color:#ADBAC7;">.rootViewController </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> MainViewControllerKt.</span><span style="color:#6CB6FF;">createMainViewController</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// 使其可见</span></span>
<span class="line"><span style="color:#ADBAC7;">        window</span><span style="color:#F47067;">?</span><span style="color:#ADBAC7;">.</span><span style="color:#6CB6FF;">makeKeyAndVisible</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>不要使用 <code>UIViewControllerRepresentable</code> 为 Swift UI 创建 <code>UIViewController</code>，虽然这是目前 Kotlin Multiplatform Wizard 自动为你生成的代码， 但是这会导致 <a href="#%E7%B3%BB%E7%BB%9F%E6%A0%8F-%E7%8A%B6%E6%80%81%E6%A0%8F%E3%80%81%E5%AF%BC%E8%88%AA%E6%A0%8F%E3%80%81home-indicator-%E7%AD%89">系统栏 (状态栏、导航栏、Home Indicator 等)</a> 相关功能失效， 因为 Swift UI 会接管整个视图的状态，此时，你只能在 Swift UI 中控制系统栏。</p></div><h4 id="desktop-平台" tabindex="-1"><a class="header-anchor" href="#desktop-平台" aria-hidden="true">#</a> Desktop 平台</h4><p>请在对应的 Java 项目 <code>Main.kt</code> 中使用以下方式创建 Compose 的起始点。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">application</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Window</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">        onCloseRequest </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ::</span><span style="color:#DCBDFB;">exitApplication</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// 设置窗口标题</span></span>
<span class="line"><span style="color:#ADBAC7;">        title </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My App&quot;</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// 设置窗口大小</span></span>
<span class="line"><span style="color:#ADBAC7;">        state </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">rememberWindowState</span><span style="color:#ADBAC7;">(width </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">300</span><span style="color:#ADBAC7;">.dp, height </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">500</span><span style="color:#ADBAC7;">.dp)</span></span>
<span class="line"><span style="color:#ADBAC7;">    ) { </span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">App</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="系统事件" tabindex="-1"><a class="header-anchor" href="#系统事件" aria-hidden="true">#</a> 系统事件</h3><div class="custom-container tip"><p class="custom-container-title">本节内容</p><blockquote><p>commonMain</p></blockquote><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.backpress/-back-handler" target="_blank" rel="noopener noreferrer">BackHandler → BackHandler<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>适用于系统返回事件的扩展。</p></div><p>虽然 <code>androidx.activity:activity-compose</code> 提供了 <code>BackHandler</code>，但是它只能在 Android 中使用。</p><p><code>BetterAndroid</code> 提供了 <code>BackHandler</code> 的多平台分发支持，你可以直接在 <code>commonMain</code> 中使用它，但是它仅会在 Android 平台中生效。</p><p><code>BackHandler</code> 在 Android 中使用 <a href="/BetterAndroid/zh-cn/library/ui-component.html#%E7%B3%BB%E7%BB%9F%E4%BA%8B%E4%BB%B6" class="">ui-component → 系统事件</a> 中的 <code>BackPressedController</code> 实现， 你可以参考 <a href="/BetterAndroid/zh-cn/library/ui-component.html#activity" class="">ui-component → Activity</a> 使用 <code>AppComponentActivty</code> 或为你的 <code>Activity</code> 手动实现 <code>IBackPressedController</code> 接口。</p><p>下面是一个使用示例，它与 <code>androidx.activity:activity-compose</code> 中提供的 <code>BackHandler</code> 用法完全相同。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// 创建启用状态</span></span>
<span class="line"><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> enabled </span><span style="color:#F47067;">by</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">remember</span><span style="color:#ADBAC7;"> { </span><span style="color:#DCBDFB;">mutableStateOf</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">) }</span></span>
<span class="line"><span style="color:#768390;">// 创建 BackHandler</span></span>
<span class="line"><span style="color:#DCBDFB;">BackHandler</span><span style="color:#ADBAC7;">(enabled) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 处理返回事件</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="系统栏-状态栏、导航栏、home-indicator-等" tabindex="-1"><a class="header-anchor" href="#系统栏-状态栏、导航栏、home-indicator-等" aria-hidden="true">#</a> 系统栏 (状态栏、导航栏、Home Indicator 等)</h3><div class="custom-container tip"><p class="custom-container-title">本节内容</p><blockquote><p>commonMain</p></blockquote><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.systembar/-platform-system-bars-controller" target="_blank" rel="noopener noreferrer">PlatformSystemBarsController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>Android、iOS 的系统栏控制器。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.systembar/-native-system-bars-controller" target="_blank" rel="noopener noreferrer">NativeSystemBarsController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>Android、iOS 对应的原生系统栏控制器。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.systembar/-platform-system-bar-style" target="_blank" rel="noopener noreferrer">PlatformSystemBarStyle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>系统栏的样式。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.systembar/-platform-system-bars" target="_blank" rel="noopener noreferrer">PlatformSystemBars<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>系统栏的类型。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.systembar/-platform-system-bar-behavior" target="_blank" rel="noopener noreferrer">PlatformSystemBarBehavior<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>系统栏的行为。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.systembar/remember-system-bars-controller" target="_blank" rel="noopener noreferrer">SystemBars → rememberSystemBarsController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.systembar/native-controller" target="_blank" rel="noopener noreferrer">SystemBars → nativeController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>适用于系统栏的扩展。</p><blockquote><p>iosMain</p></blockquote><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.platform.systembar/-system-bars-controller" target="_blank" rel="noopener noreferrer">SystemBarsController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>系统栏控制器。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.platform.systembar.style/-system-bar-style" target="_blank" rel="noopener noreferrer">SystemBarStyle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>系统栏的样式。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.platform.systembar.type/-system-bars" target="_blank" rel="noopener noreferrer">SystemBars<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>系统栏的类型。</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/compose-multiplatform/compose-multiplatform/com.highcapable.betterandroid.compose.multiplatform.platform.systembar.type/-system-bar-behavior" target="_blank" rel="noopener noreferrer">SystemBarBehavior<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a></p><p>系统栏的行为。</p></div><p>在 Android、iOS 中，你都需要对系统提供的状态栏、导航栏 (Home Indicator) 进行控制和调整以便给用户带来更好的体验。</p><p>为此 <code>BetterAndroid</code> 为你提供了 <code>PlatformSystemBarsController</code>，它能够通过通用 API 来轻松实现对每个平台系统栏的控制。</p><p><code>PlatformSystemBarsController</code> 的工作原理是通过 <code>NativeSystemBarsController</code> 根据平台的不同而分发到对应的原生控制器。</p><p>在开始使用前，确保你已经阅读了 <a href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE">初始化配置</a> 并对当前项目完成了相关配置。</p><p><code>PlatformSystemBarsController</code> 在 Android 中使用 <a href="/BetterAndroid/zh-cn/library/ui-component.html#%E7%B3%BB%E7%BB%9F%E6%A0%8F-%E7%8A%B6%E6%80%81%E6%A0%8F%E3%80%81%E5%AF%BC%E8%88%AA%E6%A0%8F%E7%AD%89" class="">ui-component → 系统栏 (状态栏、导航栏等)</a> 中的 <code>SystemBarsController</code> 实现， 你可以参考 <a href="/BetterAndroid/zh-cn/library/ui-component.html#activity" class="">ui-component → Activity</a> 使用 <code>AppComponentActivty</code> 或为你的 <code>Activity</code> 手动实现 <code>ISystemBarsController</code> 接口。</p><p>你可以通过以下方式来在 Compose 中全局得到 <code>PlatformSystemBarsController</code> 对象。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// 通过状态管理获取 PlatformSystemBarsController</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">rememberSystemBarsController</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>在使用 <code>rememberSystemBarsController</code> 时，如果原生的 <code>SystemBarsController</code> 未被初始化，它将会自动调用 <code>init</code> 进行初始化， 为了避免界面效果出现问题，你应该确保在每个平台的配置阶段就已经完成了初始化操作，否则你应该确保 <code>rememberSystemBarsController</code> 在所有内容开始绘制前进行调用。</p></div><p>下面是 <code>PlatformSystemBarsController</code> 的详细用法介绍。</p><p>这里的大部分用法将与 <a href="/BetterAndroid/zh-cn/library/ui-component.html#%E7%B3%BB%E7%BB%9F%E6%A0%8F-%E7%8A%B6%E6%80%81%E6%A0%8F%E3%80%81%E5%AF%BC%E8%88%AA%E6%A0%8F%E7%AD%89" class="">ui-component → 系统栏 (状态栏、导航栏等)</a> 中保持一致。</p><p>设置系统栏的行为。</p><p>这决定了显示或隐藏系统栏时由系统控制的行为。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#ADBAC7;">systemBars.behavior </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> PlatformSystemBarBehavior.Immersive</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>以下是 <code>PlatformSystemBarBehavior</code> 中提供的全部行为，标有 <code>*</code> 的为默认行为。</p><table><thead><tr><th>行为</th><th style="text-align:center;">平台</th><th>描述</th></tr></thead><tbody><tr><td><code>Default</code></td><td style="text-align:center;">全部</td><td>由系统控制的默认行为</td></tr><tr><td>*<code>Immersive</code></td><td style="text-align:center;">Android</td><td>在全屏时可由手势滑动弹出并显示为半透明的系统栏，并在一段时间后继续隐藏</td></tr><tr><td></td><td style="text-align:center;">iOS</td><td>当状态栏隐藏时，可以通过系统手势暂时显示系统栏，但一段时间后系统栏会继续隐藏</td></tr></tbody></table><p>显示、隐藏系统栏。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// 进入沉浸模式 (全屏模式)</span></span>
<span class="line"><span style="color:#768390;">// 同时隐藏状态栏和导航栏、Home Indicator</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">hide</span><span style="color:#ADBAC7;">(PlatformSystemBars.All)</span></span>
<span class="line"><span style="color:#768390;">// 单独控制状态栏和导航栏</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">hide</span><span style="color:#ADBAC7;">(PlatformSystemBars.StatusBars)</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">hide</span><span style="color:#ADBAC7;">(PlatformSystemBars.NavigationBars)</span></span>
<span class="line"><span style="color:#768390;">// 退出沉浸模式 (全屏模式)</span></span>
<span class="line"><span style="color:#768390;">// 同时显示状态栏和导航栏、Home Indicator</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">show</span><span style="color:#ADBAC7;">(PlatformSystemBars.All)</span></span>
<span class="line"><span style="color:#768390;">// 单独控制状态栏和导航栏、Home Indicator</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">show</span><span style="color:#ADBAC7;">(PlatformSystemBars.StatusBars)</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">show</span><span style="color:#ADBAC7;">(PlatformSystemBars.NavigationBars)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置系统栏的样式。</p><p>你可以自定义状态栏、导航栏、Home Indicator 的外观。</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>在 Android 6.0 以下系统中，状态栏的内容不支持反色，如果你设置了亮色则会自动处理为半透明遮罩，但是对于 MIUI、Flyme 自行添加了反色功能的系统将使用其私有方案实现反色效果。</p><p>在 Android 8 以下系统中，导航栏的内容不支持反色，处理方式同上。</p><p>在 iOS 中，Home Indicator 不支持设置 <code>darkContent</code>，它的颜色是由系统控制的，但是你可以为其设置背景颜色。</p></div><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// 设置状态栏的样式</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.statusBarStyle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PlatformSystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 设置背景颜色</span></span>
<span class="line"><span style="color:#ADBAC7;">    color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.White,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 设置内容颜色</span></span>
<span class="line"><span style="color:#ADBAC7;">    darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// 设置导航栏、Home Indicator 的样式</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.navigationBarStyle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PlatformSystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 设置背景颜色</span></span>
<span class="line"><span style="color:#ADBAC7;">    color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.White,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 设置内容颜色</span></span>
<span class="line"><span style="color:#ADBAC7;">    darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// 你可以一次性设置状态栏和导航栏、Home Indicator 的样式</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">setStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    statusBar </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PlatformSystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">        color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.White,</span></span>
<span class="line"><span style="color:#ADBAC7;">        darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">    ),</span></span>
<span class="line"><span style="color:#ADBAC7;">    navigationBar </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PlatformSystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">        color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.White,</span></span>
<span class="line"><span style="color:#ADBAC7;">        darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">    )</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// 你也可以同时设置状态栏和导航栏、Home Indicator 的样式</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">setStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    style </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PlatformSystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">        color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.White,</span></span>
<span class="line"><span style="color:#ADBAC7;">        darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">    )</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下是 <code>PlatformSystemBarStyle</code> 中提供的预置样式，标有 <code>*</code> 的为默认样式。</p><table><thead><tr><th>样式</th><th>描述</th></tr></thead><tbody><tr><td><code>Auto</code></td><td>系统深色模式下为纯黑背景 + 浅色内容颜色，浅色模式下为纯白背景 + 深色内容颜色</td></tr><tr><td>*<code>AutoTransparent</code></td><td>系统深色模式下为浅色内容颜色，浅色模式下为深色内容颜色，背景透明</td></tr><tr><td><code>Light</code></td><td>纯白背景 + 深色内容颜色</td></tr><tr><td><code>LightScrim</code></td><td>半透明纯白背景 + 深色内容颜色</td></tr><tr><td><code>LightTransparent</code></td><td>透明背景 + 深色内容颜色</td></tr><tr><td><code>Dark</code></td><td>纯黑背景 + 浅色内容颜色</td></tr><tr><td><code>DarkScrim</code></td><td>半透明纯黑背景 + 浅色内容颜色</td></tr><tr><td><code>DarkTransparent</code></td><td>透明背景 + 浅色内容颜色</td></tr></tbody></table><p>获取原生控制器。</p><p>你可以通过以下方式在对应的平台中获取原生控制器，在 <code>commonMain</code> 或不支持的平台中使用将始终返回 <code>null</code>。</p><blockquote><p>示例如下</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// 获取原生控制器</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> nativeController </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> systemBars.nativeController</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">小提示</p><p><code>BetterAndroid</code> 同样为 iOS 提供了一个原生的 <code>SystemBarsController</code>， 它的用法与 <a href="/BetterAndroid/zh-cn/library/ui-component.html#%E7%B3%BB%E7%BB%9F%E6%A0%8F-%E7%8A%B6%E6%80%81%E6%A0%8F%E3%80%81%E5%AF%BC%E8%88%AA%E6%A0%8F%E7%AD%89" class="">ui-component → 系统栏 (状态栏、导航栏等)</a> 除了初始化功能外基本保持一致，通常情况下你应该不需要直接使用它，这里也不再进行详细的介绍。</p></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/BetterAndroid/BetterAndroid/edit/main/docs-source/src/zh-cn/library/compose-multiplatform.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页"><!--[--><!--]--> 在 GitHub 上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: qzmmcn@163.com">fankesyooni</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/BetterAndroid/zh-cn/library/compose-extension.html" class="" aria-label="compose-extension"><!--[--><!--]--> compose-extension <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/BetterAndroid/assets/app-ewiN1Yda.js" defer></script>
  </body>
</html>
