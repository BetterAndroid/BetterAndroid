import{_ as r,r as l,o as p,c,a as e,b as s,d as n,w as i,e as o}from"./app-0wxN3PPV.js";const d={},u=o(`<h1 id="ui-extension" tabindex="-1"><a class="header-anchor" href="#ui-extension" aria-hidden="true">#</a> ui-extension</h1><p><img src="https://img.shields.io/maven-central/v/com.highcapable.betterandroid/ui-extension?logo=apachemaven&amp;logoColor=orange&amp;style=flat-square" alt="Maven Central"><span style="margin-left:5px;"></span><img src="https://img.shields.io/maven-metadata/v?metadataUrl=https%3A%2F%2Fraw.githubusercontent.com%2FHighCapable%2Fmaven-repository%2Frefs%2Fheads%2Fmain%2Frepository%2Freleases%2Fcom%2Fhighcapable%2Fbetterandroid%2Fui-extension%2Fmaven-metadata.xml&amp;logo=apachemaven&amp;logoColor=orange&amp;label=highcapable-maven-releases&amp;style=flat-square" alt="Maven metadata URL"><span style="margin-left:5px;"></span><img src="https://img.shields.io/badge/Min SDK-21-orange?logo=android&amp;style=flat-square" alt="Android Min SDK"></p><p>This is a dependency for UI (user interface) related extensions.</p><h2 id="configure-dependency" tabindex="-1"><a class="header-anchor" href="#configure-dependency" aria-hidden="true">#</a> Configure Dependency</h2><p>You can add this module to your project using the following method.</p><h3 id="version-catalog-recommended" tabindex="-1"><a class="header-anchor" href="#version-catalog-recommended" aria-hidden="true">#</a> Version Catalog (Recommended)</h3><p>Add dependency in your project&#39;s <code>gradle/libs.versions.toml</code>.</p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#ADBAC7;">[</span><span style="color:#F69D50;">versions</span><span style="color:#ADBAC7;">]</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-ui-extension = </span><span style="color:#96D0FF;">&quot;&lt;version&gt;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">[</span><span style="color:#F69D50;">libraries</span><span style="color:#ADBAC7;">]</span></span>
<span class="line"><span style="color:#ADBAC7;">betterandroid-ui-extension = { module = </span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:ui-extension&quot;</span><span style="color:#ADBAC7;">, version.ref = </span><span style="color:#96D0FF;">&quot;betterandroid-ui-extension&quot;</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Configure dependency in your project&#39;s <code>build.gradle.kts</code>.</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(libs.betterandroid.ui.extension)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Please change <code>&lt;version&gt;</code> to the version displayed at the top of this document.</p><h3 id="traditional-method" tabindex="-1"><a class="header-anchor" href="#traditional-method" aria-hidden="true">#</a> Traditional Method</h3><p>Configure dependency in your project&#39;s <code>build.gradle.kts</code>.</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:ui-extension:&lt;version&gt;&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Please change <code>&lt;version&gt;</code> to the version displayed at the top of this document.</p><h2 id="function-introduction" tabindex="-1"><a class="header-anchor" href="#function-introduction" aria-hidden="true">#</a> Function Introduction</h2>`,16),y={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension",target:"_blank",rel:"noopener noreferrer"},m=e("h3",{id:"activity-extension",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#activity-extension","aria-hidden":"true"},"#"),s(" Activity Extension")],-1),h={class:"custom-container tip"},v=e("p",{class:"custom-container-title"},"Contents of This Section",-1),b={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/start-activity",target:"_blank",rel:"noopener noreferrer"},A={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/start-activity-or-else",target:"_blank",rel:"noopener noreferrer"},D={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/is-in-multi-window-mode-compat",target:"_blank",rel:"noopener noreferrer"},B=e("p",null,[s("Extensions for "),e("code",null,"Activity"),s(".")],-1),g=o(`<p>When we need to start another <code>Activity</code>, we need to use <code>Intent</code> to create an <code>Intent(this, AnotherActivity::class.java)</code>, and then call <code>startActivity(intent)</code> to start it.</p><p>This may not be very friendly to write, so <code>BetterAndroid</code> provides an extension for <code>Activity</code>, now you can directly use the following method to start another <code>Activity</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Assume AnotherActivity is your target activity.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AnotherActivity</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// You can create an intent object using the following method.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AnotherActivity</span><span style="color:#ADBAC7;">&gt; {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Add some extra parameters here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">putExtra</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;key&quot;</span><span style="color:#ADBAC7;">, </span><span style="color:#96D0FF;">&quot;value&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// If you need to use Intent.FLAG_ACTIVITY_NEW_TASK to start another activity,</span></span>
<span class="line"><span style="color:#768390;">// you can use it directly like this.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AnotherActivity</span><span style="color:#ADBAC7;">&gt;(newTask </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// If you need to add launch options, you can add the &quot;options&quot; parameter.</span></span>
<span class="line"><span style="color:#768390;">// For example, we need a shared element transition animation.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> options </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ActivityOptionsCompat.</span><span style="color:#DCBDFB;">makeSceneTransitionAnimation</span><span style="color:#ADBAC7;">(activity).</span><span style="color:#DCBDFB;">toBundle</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AnotherActivity</span><span style="color:#ADBAC7;">&gt;(options </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> options)</span></span>
<span class="line"><span style="color:#768390;">// Similarly, you can use it directly in a Fragment.</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment: </span><span style="color:#F69D50;">Fragment</span></span>
<span class="line"><span style="color:#768390;">// Assume AnotherActivity is your target Activity.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AnotherActivity</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you need to start an <code>Activity</code> from an external app, you can use the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Assume that the app package you need to start is named com.example.app.</span></span>
<span class="line"><span style="color:#768390;">// Assume that the activity class you need to start is named com.example.app.MainActivity.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.example.app&quot;</span><span style="color:#ADBAC7;">, </span><span style="color:#96D0FF;">&quot;com.example.app.MainActivity&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// You can still create an intent object using the following method.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.example.app&quot;</span><span style="color:#ADBAC7;">, </span><span style="color:#96D0FF;">&quot;com.example.app.MainActivity&quot;</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Add some extra parameters here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">putExtra</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;key&quot;</span><span style="color:#ADBAC7;">, </span><span style="color:#96D0FF;">&quot;value&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Intent.FLAG_ACTIVITY_NEW_TASK will be set by default in this method,</span></span>
<span class="line"><span style="color:#768390;">// this is to avoid stack overlap after starting a new app.</span></span>
<span class="line"><span style="color:#768390;">// If you don&#39;t need to consider this issue, you can set the newTask parameter to false.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.example.app&quot;</span><span style="color:#ADBAC7;">, </span><span style="color:#96D0FF;">&quot;com.example.app.MainActivity&quot;</span><span style="color:#ADBAC7;">, newTask </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">false</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you don&#39;t know the entry <code>Activity</code> name of the app you want to start, you can use the package name to start it directly.</p><p>This method will use <code>getLaunchIntentForPackage</code> internally to obtain the entry <code>Activity</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Assume that the app package you need to start is named com.example.app.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">startActivity</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.example.app&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11),C={class:"custom-container warning"},w=e("p",{class:"custom-container-title"},"Notice",-1),f=e("p",null,[s("This operation requires the "),e("code",null,"QUERY_ALL_PACKAGES"),s(" permission or explicitly configuring a "),e("code",null,"queries"),s(" property list on Android 11 and later.")],-1),x={href:"https://developer.android.com/training/package-visibility",target:"_blank",rel:"noopener noreferrer"},F=o(`<div class="custom-container tip"><p class="custom-container-title">Tips</p><p>You can use <code>startActivityOrElse</code> instead of <code>startActivity</code> to determine whether the <code>Activity</code> can be started successfully.</p><p>If the startup fails, this method will not throw an exception but return <code>false</code>.</p></div><p>For the new multi-window mode in Android 7.0 and later versions, <code>BetterAndroid</code> provides a compatible extension for it.</p><p>For <code>isInMultiWindowMode</code>, you do not need to consider version compatibility issues, you only need to add a <code>Compat</code> at the end.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your activity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">Activity</span></span>
<span class="line"><span style="color:#768390;">// Get whether it is currently in multi-window mode.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isInMultiWindowMode </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity.isInMultiWindowModeCompat</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="fragment-extension" tabindex="-1"><a class="header-anchor" href="#fragment-extension" aria-hidden="true">#</a> Fragment Extension</h3>`,6),k={class:"custom-container tip"},_=e("p",{class:"custom-container-title"},"Contents of This Section",-1),T={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/fragment-manager",target:"_blank",rel:"noopener noreferrer"},q={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/parent-fragment",target:"_blank",rel:"noopener noreferrer"},V={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/find-fragment",target:"_blank",rel:"noopener noreferrer"},I={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/-fragment-transaction",target:"_blank",rel:"noopener noreferrer"},S={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/attach",target:"_blank",rel:"noopener noreferrer"},L={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/detach",target:"_blank",rel:"noopener noreferrer"},W={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/replace",target:"_blank",rel:"noopener noreferrer"},K={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/show",target:"_blank",rel:"noopener noreferrer"},R={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/hide",target:"_blank",rel:"noopener noreferrer"},O=e("p",null,[s("Extensions for "),e("code",null,"Fragment"),s(".")],-1),P=e("p",null,[e("code",null,"Fragment"),s(" is an officially provided efficient fragment for "),e("code",null,"Activity"),s(", but its usage is not very user-friendly.")],-1),E=e("p",null,[s("In order to simplify "),e("code",null,"Fragment"),s(" related operations, "),e("code",null,"BetterAndroid"),s(" provides some practical extension functions for "),e("code",null,"Fragment"),s(".")],-1),G=e("code",null,"BetterAndroid",-1),N=e("code",null,"androidx.fragment:fragment-ktx",-1),M={href:"https://developer.android.com/kotlin/ktx#fragment",target:"_blank",rel:"noopener noreferrer"},Y=o(`<div class="custom-container warning"><p class="custom-container-title">Notice</p><p>The <code>commitTransaction</code> method in <code>1.0.2</code> and previous versions has been deprecated.</p><p>In line with the principle of &quot;not reinventing the wheel&quot;, please migrate to the <code>commit</code> and <code>commitNow</code> methods in the <code>fragment-ktx</code> dependency.</p><p>Starting from version <code>1.0.5</code>, we have merged the <code>...ToActivity</code> and <code>...ToFragment</code> methods and improved their usage, please migrate accordingly.</p></div><p>Get the existing <code>FragmentManager</code>.</p><p><code>BetterAndroid</code> provides a more friendly way for <code>FragmentActivity</code> and <code>Fragment</code> to obtain the existing <code>FragmentManager</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your FragmentActivity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment: </span><span style="color:#F69D50;">Fragment</span></span>
<span class="line"><span style="color:#768390;">// Get FragmentManager from FragmentActivity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragmentManager </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity.</span><span style="color:#DCBDFB;">fragmentManager</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Get FragmentManager from Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragmentManager </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> fragment.</span><span style="color:#DCBDFB;">fragmentManager</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// For Fragment, you can set the parameter parent to true to get the parent FragmentManager.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> parentFragmentManager </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> fragment.</span><span style="color:#DCBDFB;">fragmentManager</span><span style="color:#ADBAC7;">(parent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Using generics to get the parent <code>Fragment</code>.</p><p><code>BetterAndroid</code> provides a more friendly way to get the parent <code>Fragment</code>.</p><p>It can automatically help you convert the found <code>Fragment</code> to the current type without using the <code>as</code> form for coercion.</p><p>You don&#39;t need to worry about not being found or type errors at all, in which case <code>null</code> will be returned.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment: </span><span style="color:#F69D50;">Fragment</span></span>
<span class="line"><span style="color:#768390;">// Get the parent Fragment using generics.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> parentFragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> fragment.</span><span style="color:#DCBDFB;">parentFragment</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">YourParentFragment</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Use generics to find an existing <code>Fragment</code>.</p><p>Similarly, it can automatically convert the found <code>Fragment</code> to the current type without using the <code>as</code> form for coercion.</p><p>You don&#39;t need to worry about not being found or type errors at all, in which case <code>null</code> will be returned.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your FragmentActivity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Find a fragment by ID.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity.</span><span style="color:#DCBDFB;">fragmentManager</span><span style="color:#ADBAC7;">().</span><span style="color:#DCBDFB;">findFragment</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">YourFragment</span><span style="color:#ADBAC7;">&gt;(R.id.container)</span></span>
<span class="line"><span style="color:#768390;">// Find a fragment by TAG.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity.</span><span style="color:#DCBDFB;">fragmentManager</span><span style="color:#ADBAC7;">().</span><span style="color:#DCBDFB;">findFragment</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">YourFragment</span><span style="color:#ADBAC7;">&gt;(</span><span style="color:#96D0FF;">&quot;your_fragment_tag&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can attach a <code>Fragment</code> to a host (<code>FragmentActivity</code> or <code>Fragment</code>) without using <code>FragmentManager.beginTransaction</code>...<code>commit</code>.</p><p>This operation is now much simpler.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your host.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">YourFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Attach Fragment.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">attach</span><span style="color:#ADBAC7;">(activity)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Yes, that&#39;s all you need to do to complete the attachment.</p><p>By default, if the host is an <code>Activity</code>, it will attach the <code>Fragment</code> to the layout set by <code>setContentView</code> in the <code>Activity</code>.</p><p>If it is a <code>Fragment</code>, it will attach the <code>Fragment</code> to the layout of <code>Fragment.getView</code>.</p><p>If you need to attach it to a custom layout, you can use the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your host.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">YourFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Attach Fragment to a layout with ID R.id.container.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">attach</span><span style="color:#ADBAC7;">(activity, R.id.container)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If this custom layout is not obtained by ID but is a <code>View</code>, you can use the following method.</p><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>This <code>View</code> must already be added to the currently displayed layout, and it is recommended to set an ID for it.</p><p>A <code>View</code> without an ID will use <code>View.generateViewId</code> to generate an ID.</p></div><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your host.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your View.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> container: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">YourFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Attach Fragment to container.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">attach</span><span style="color:#ADBAC7;">(activity, container)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also easily set an entry animation for the <code>Fragment</code> when attaching.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your host.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">YourFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Attach Fragment and set entry animation.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">attach</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    host </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity,</span></span>
<span class="line"><span style="color:#ADBAC7;">    container </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.id.container,</span></span>
<span class="line"><span style="color:#ADBAC7;">    customAnimId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.anim.slide_in_right </span><span style="color:#768390;">// Entry animation.</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also easily detach a <code>Fragment</code> from the host.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your host.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">YourFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Detach Fragment from host.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">detach</span><span style="color:#ADBAC7;">(activity)</span></span>
<span class="line"><span style="color:#768390;">// If you do not provide a parameter, it will default to the current host held by the Fragment.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">detach</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition to attaching, you can also replace a <code>Fragment</code> in the same attached layout.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your host.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">YourFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Replace Fragment in a layout with ID R.id.container.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">replace</span><span style="color:#ADBAC7;">(activity, R.id.container)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Show or hide a <code>Fragment</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your host.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">YourFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Show/Hide Fragment from host.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">show</span><span style="color:#ADBAC7;">(activity)</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">hide</span><span style="color:#ADBAC7;">(activity)</span></span>
<span class="line"><span style="color:#768390;">// If you do not provide a parameter, it will default to the current host held by the Fragment.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">show</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">hide</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>Any attach, detach, replace, show, or hide operation can be set with transition animations.</p><p>You can find <code>customAnimId</code>, <code>customEnterAnimId</code>, and <code>customExitAnimId</code> parameters in these methods, which by default will not set any animation effects.</p><p>In all transaction events, these methods retain the <code>body</code> parameter, allowing you to continue executing your custom transactions.</p><p><code>BetterAndroid</code> also provides <code>FragmentTransaction</code>, which you can use to create a template and apply it in your <code>body</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your host.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your Fragment.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> fragment </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">YourFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Attach Fragment.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">attach</span><span style="color:#ADBAC7;">(activity) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Add some extra transactions here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">addSharedElement</span><span style="color:#ADBAC7;">(view, </span><span style="color:#96D0FF;">&quot;shared_element&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Create a transaction template.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> myTransaction </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FragmentTransaction</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Add some extra transactions here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">addSharedElement</span><span style="color:#ADBAC7;">(view, </span><span style="color:#96D0FF;">&quot;shared_element&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Attach Fragment.</span></span>
<span class="line"><span style="color:#ADBAC7;">fragment.</span><span style="color:#DCBDFB;">attach</span><span style="color:#ADBAC7;">(activity, body </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> myTransaction)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>Starting from version <code>1.0.4</code>, <code>BetterAndroid</code> has removed the default transition animation and related resource files.</p><p>We believe that transition animation should be something that each developer decides for themselves, not for tool libraries.</p></div><h3 id="insets-extension" tabindex="-1"><a class="header-anchor" href="#insets-extension" aria-hidden="true">#</a> Insets Extension</h3>`,45),j={class:"custom-container tip"},U=e("p",{class:"custom-container-title"},"Contents of This Section",-1),H={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.insets/-window-insets-wrapper",target:"_blank",rel:"noopener noreferrer"},z=e("p",null,[s("A wrapper for "),e("code",null,"WindowInsets"),s(".")],-1),X={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.insets/-window-insets-wrapper/-absolute",target:"_blank",rel:"noopener noreferrer"},J=e("p",null,[s("An absolute insets for "),e("code",null,"WindowInsetsWrapper"),s(".")],-1),Q={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.insets/-insets-wrapper",target:"_blank",rel:"noopener noreferrer"},$=e("p",null,[s("A wrapper for "),e("code",null,"Insets"),s(".")],-1),Z={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.insets.factory",target:"_blank",rel:"noopener noreferrer"},ee=e("p",null,[s("Extension methods for "),e("code",null,"Insets"),s(", "),e("code",null,"WindowInsets"),s(".")],-1),se=o('<div class="custom-container warning"><p class="custom-container-title">Notice</p><p>Among the library <a href="./ui-component">ui-component</a> of <code>1.0.3</code> and previous versions, <code>BetterAndroid</code> encapsulates insest, window insets and <a href="./ui-component#system-bars-status-bars-navigation-bars-etc">System Bars (Status Bars, Navigation Bars, etc)</a>, this was once incorrect, and now insets and window insets have been decoupled into separate functions, as you can see now.</p></div><p>Insets and window insets are a very important concept in Android.</p><p>Although this API has existed as early as Android 5.0, it was only officially recommended in Android 10. (Since Android 9, the system has added related APIs for cutout displays processing)</p><p>Insets is a special space, which represents the placeholder area &quot;attached&quot; around the view, insets held by the system such as the part blocked by the cutout displays (notch screens), status bars, navigation bars, and input method are called window insets.</p><p>What <code>BetterAndroid</code> mainly does is wrapped this set of APIs to make them easier to use.</p><p>Next, you can create a <code>WindowInsetsWrapper</code> from an existing <code>WindowInsets</code> object.</p>',6),ne={class:"custom-container tip"},ae=e("p",{class:"custom-container-title"},"Tips",-1),oe=e("code",null,"WindowInsetsWrapper",-1),te={href:"https://developer.android.com/jetpack/compose/layouts/insets",target:"_blank",rel:"noopener noreferrer"},le=e("p",null,"You can better use this set at the native level API.",-1),ie=o(`<p>For backward compatibility reasons, the object wrapped by <code>WindowInsetsWrapper</code> is <code>WindowInsetsCompat</code> and it is recommended to use it instead of <code>WindowInsets</code>.</p><p><code>WindowInsetsWrapper</code> wrapped <code>WindowInsetsCompat.getInsets</code>, <code>WindowInsetsCompat.getInsetsIgnoringVisibility</code>, <code>WindowInsetsCompat.isVisible</code> and other methods, you no longer need to write super long code such as <code>WindowInsetsCompat.getInsets(WindowInsetsCompat.Type.systemBars())</code> to get an insets.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your WindowInsets.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> windowInsets: </span><span style="color:#F69D50;">WindowInsetsCompat</span></span>
<span class="line"><span style="color:#768390;">// Create a WindowInsetsWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> windowInsets.</span><span style="color:#DCBDFB;">createWrapper</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can also create it through the from method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> WindowInsetsWrapper.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(windowInsets)</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.systemBars</span></span>
<span class="line"><span style="color:#768390;">// Normally, the obtained insets will include its visibility,</span></span>
<span class="line"><span style="color:#768390;">// when invisible, the values of insets are all 0.</span></span>
<span class="line"><span style="color:#768390;">// You can ignore visibility by passing parameter ignoringVisibility.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.</span><span style="color:#DCBDFB;">systemBars</span><span style="color:#ADBAC7;">(ignoreVisibility </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// After obtaining the insets, you can use isVisible to determine whether it is visible.</span></span>
<span class="line"><span style="color:#768390;">// Note: The value of insets is provided by the system, isVisible is just a state,</span></span>
<span class="line"><span style="color:#768390;">// regardless of whether its value is 0,</span></span>
<span class="line"><span style="color:#768390;">// you can use it to determine whether the current insets are visible.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsIsVisible </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> systemBars.isVisible</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BetterAndroid</code> has made a compatibility process for the respective private solutions of manufacturers of mainstream brands of cutout display devices below Android 9.</p><p>If you need to be compatible with older devices, you can pass in an optional <code>Window</code> object in the method parameter.</p><p>If your app only needs to adapt to Android 9 and above devices, you can ignore this parameter.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your activity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">Activity</span></span>
<span class="line"><span style="color:#768390;">// Under normal circumstances, you can get the window through the current activity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> window </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity.window</span></span>
<span class="line"><span style="color:#768390;">// Create a WindowInsetsWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> windowInsets.</span><span style="color:#DCBDFB;">createWrapper</span><span style="color:#ADBAC7;">(window)</span></span>
<span class="line"><span style="color:#768390;">// You can also create it through the from method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> WindowInsetsWrapper.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(windowInsets, window)</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the cutout displays.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> displayCutout </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.displayCutout</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>If your app needs to run on Android 10 or below devices, we recommend always passing in a <code>Window</code> object to ensure that <code>BetterAndroid</code> can correctly handle compatibility issues for you.</p><p>Currently known compatibility issues are that the compatibility processing method provided by <code>androidx</code> cannot give correct values to the <code>isVisible</code> and their contents of <code>statusBars</code>, <code>navigationBars</code>, <code>systemBars</code> of devices below Android 11, for this reason, <code>BetterAndroid</code> repairs were made.</p></div><p>Any insets you get from <code>WindowInsetsWrapper</code> is <code>InsetsWrapper</code>, which wrapped <code>Insets</code> and implements controllable <code>isVisible</code> state.</p><p><code>InsetsWrapper</code> can be easily converted to an original <code>Insets</code> object, and can also be converted back to an <code>InsetsWrapper</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.systemBars</span></span>
<span class="line"><span style="color:#768390;">// Convert to Insets.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> systemBars.</span><span style="color:#DCBDFB;">toInsets</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Convert to InsetsWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> wrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets.</span><span style="color:#DCBDFB;">toWrapper</span><span style="color:#ADBAC7;">(systemBars.isVisible)</span></span>
<span class="line"><span style="color:#768390;">// You can also create it through the of method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> wrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> InsetsWrapper.</span><span style="color:#DCBDFB;">of</span><span style="color:#ADBAC7;">(insets, systemBars.isVisible)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Unlike <code>Insets</code>, <code>InsetsWrapper</code> has overloaded operators, and you can use <code>+</code>, <code>-</code> and <code>or</code>, <code>and</code> to operate or compare on it.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets1 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> InsetsWrapper.</span><span style="color:#DCBDFB;">of</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> InsetsWrapper.</span><span style="color:#DCBDFB;">of</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Use &quot;+&quot; operator, equivalent to Insets.add(insets1, insets2).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> insets2</span></span>
<span class="line"><span style="color:#768390;">// Use &quot;-&quot; operator, equivalent to Insets.subtract(insets2, insets1).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets2 </span><span style="color:#F47067;">-</span><span style="color:#ADBAC7;"> insets1</span></span>
<span class="line"><span style="color:#768390;">// Use &quot;or&quot; operator, equivalent to Insets.max(insets1, insets2).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 or insets2</span></span>
<span class="line"><span style="color:#768390;">// Use &quot;and&quot; operator, equivalent to Insets.min(insets1, insets2).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 and insets2</span></span>
<span class="line"><span style="color:#768390;">// Use the &quot;&gt;&quot; operator to compare</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isUpperTo </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 </span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> insets2</span></span>
<span class="line"><span style="color:#768390;">// Use the &quot;&lt;&quot; operator to compare</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isLowerTo </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 </span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;"> insets2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After obtaining the insets, the general approach is to set it to the <code>padding</code> of the <code>View</code> so that it &quot;makes way&quot; for the system to occupy the position.</p><p>Whether it is <code>InsetsWrapper</code> or <code>Insets</code>, you do not need to use a form such as <code>View.setPadding(insets.left, insets.top, insets.right, insets.bottom)</code>, which seems extremely unfriendly.</p><p>You can easily set it directly as the <code>padding</code> of a <code>View</code> using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.systemBars</span></span>
<span class="line"><span style="color:#768390;">// Use insets to set the padding of the view.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">setInsetsPadding</span><span style="color:#ADBAC7;">(systemBars)</span></span>
<span class="line"><span style="color:#768390;">// Since the object demonstrated here is the system bars,</span></span>
<span class="line"><span style="color:#768390;">// you can only update the vertical (top and bottom) padding.</span></span>
<span class="line"><span style="color:#768390;">// Using the updateInsetsPadding method has the same effect as updatePadding.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">updateInsetsPadding</span><span style="color:#ADBAC7;">(systemBars, vertical </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As we mentioned above, to create a <code>WindowInsetsWrapper</code>, you need an existing <code>WindowInsetsCompat</code>.</p><p>For backward compatibility reasons, you can use <code>ViewCompat.setOnApplyWindowInsetsListener</code> to set a change listener for <code>View</code>.</p><p>Its essential function is to control the transfer of window insets, window insets are transferred from the root view to the sub view through the <code>View.onApplyWindowInsets</code> method.</p><p>Delivery will not stop until you explicitly consume it using <code>WindowInsetsCompat.CONSUMED</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Set view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">ViewCompat.</span><span style="color:#DCBDFB;">setOnApplyWindowInsetsListener</span><span style="color:#ADBAC7;">(view) { view, insets </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// insets is the current WindowInsetsCompat.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// You can create WindowInsetsWrapper through it.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets.</span><span style="color:#DCBDFB;">createWrapper</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Consume the window insets at the last bit and stop passing them down.</span></span>
<span class="line"><span style="color:#ADBAC7;">    WindowInsetsCompat.CONSUMED </span><span style="color:#768390;">// Or fill in the current insets and continue passing down.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This approach seems cumbersome, so <code>BetterAndroid</code> also provides you with a simpler method.</p><p>For example, we need to know the space occupied by the input method and set the <code>padding</code> from window insets for the input method layout.</p><p>At this point you can use <code>View.handleOnWindowInsetsChanged</code> to directly get a <code>WindowInsetsWrapper</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your input method layout.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> imeSpaceLayout: </span><span style="color:#F69D50;">FrameLayout</span></span>
<span class="line"><span style="color:#768390;">// Handle view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">imeSpaceLayout.</span><span style="color:#DCBDFB;">handleOnWindowInsetsChanged</span><span style="color:#ADBAC7;"> { imeSpaceLayout, insetsWrapper </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set the padding provided by ime.</span></span>
<span class="line"><span style="color:#ADBAC7;">    imeSpaceLayout.</span><span style="color:#DCBDFB;">setInsetsPadding</span><span style="color:#ADBAC7;">(insetsWrapper.ime)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Or use ime to update the padding at the bottom.</span></span>
<span class="line"><span style="color:#ADBAC7;">    imeSpaceLayout.</span><span style="color:#DCBDFB;">updateInsetsPadding</span><span style="color:#ADBAC7;">(insetsWrapper.ime, bottom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you want to consume window insets from the subview so that they are no longer passed down, you just need to set <code>consumed = true</code> in the method parameters.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Handle view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">imeSpaceLayout.</span><span style="color:#DCBDFB;">handleOnWindowInsetsChanged</span><span style="color:#ADBAC7;">(consumed </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">) { imeSpaceLayout, insetsWrapper </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>If you find that <code>handleOnWindowInsetsChanged</code> is not triggered immediately after being set, it may be because the current <code>View</code> is not attached to the window. If you want to <code>View</code> triggers a callback when executing <code>onLayout</code>, you can set <code>requestApplyOnLayout = true</code> in the method parameters.</p></div><p>If you want to animate window insets when they change as well, you don&#39;t need to reset a <code>View.setWindowInsetsAnimationCallback</code>.</p><p>You just need to set <code>animated = true</code> in the method parameters so that the callback will be triggered every time window insets change.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Handle view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">imeSpaceLayout.</span><span style="color:#DCBDFB;">handleOnWindowInsetsChanged</span><span style="color:#ADBAC7;">(animated </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">) { imeSpaceLayout, insetsWrapper </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>This feature was introduced starting with Android 11, in previous systems, callbacks were still triggered immediately, so no animation effects would be produced.</p></div><p>In addition, when you set up window insets change listeners, you don&#39;t need to care when the listeners were set, you can remove them at any time.</p><p>This operation will remove all <code>View.setOnApplyWindowInsetsListener</code> and <code>View.setWindowInsetsAnimationCallback</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current view.</span></span>
<span class="line"><span style="color:#ADBAC7;">Val view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Remove view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">removeWindowInsetsListener</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>You can only set one window insets listener for a <code>View</code>, repeatedly set listeners will be overwritten by the last one.</p></div><p>If you want to get window insets directly from the current <code>View</code>, then you can also create a <code>WindowInsetsWrapper</code> using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Create a WindowInsetsWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">createRootWindowInsetsWrapper</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can also create it through the from method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> WindowInsetsWrapper.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(view)</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#768390;">// If window insets cannot be obtained through view, null will be returned.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper?.systemBars</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition to the above approach, <code>WindowInsetsWrapper</code> also provides a <code>WindowInsetsWrapper.Absolute</code>, which you can directly pass without any listener and use <code>Window.getDecorView</code> to gets an absolute insets.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your activity.</span></span>
<span class="line"><span style="color:#ADBAC7;">Val activity: </span><span style="color:#F69D50;">Activity</span></span>
<span class="line"><span style="color:#768390;">// Under normal circumstances, you can get the window through the current activity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> window </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity.window</span></span>
<span class="line"><span style="color:#768390;">// Create a WindowInsetsWrapper.Absolute.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> absoluteWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> WindowInsetsWrapper.Absolute.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(window)</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the status bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> statusBar </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> absoluteWrapper.statusBar</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the navigation bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> navigationBar </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> absoluteWrapper.navigationBar</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> absoluteWrapper.systemBars</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>The values obtained in this way are for reference only.</p><p>We do not recommend obtaining insets in this way, when the current device has a cutout display, these values may be inaccurate.</p></div><p>Below are all the insets provided in <code>WindowInsetsWrapper</code>.</p><table><thead><tr><th>Insets</th><th>Description</th></tr></thead><tbody><tr><td><code>statusBars</code></td><td>Status bars.</td></tr><tr><td><code>navigationBars</code></td><td>Navigation bars.</td></tr><tr><td><code>captionBar</code></td><td>Caption bar.</td></tr><tr><td><code>systemBars</code></td><td>System bars. (<code>captionBar</code> + <code>statusBars</code> + <code>navigationBars</code>)</td></tr><tr><td><code>ime</code></td><td>Input method.</td></tr><tr><td><code>tappableElement</code></td><td>Tappable element.</td></tr><tr><td><code>systemGestures</code></td><td>System gestures.</td></tr><tr><td><code>mandatorySystemGestures</code></td><td>Mandatory system gestures.</td></tr><tr><td><code>displayCutout</code></td><td>cutout display. (notch screen)</td></tr><tr><td><code>waterFall</code></td><td>Waterfall screen. (curved screen)</td></tr><tr><td><code>safeGestures</code></td><td>Safe gestures. (<code>systemGestures</code> + <code>mandatorySystemGestures</code> + <code>waterFall</code> + <code>tappableElement</code>)</td></tr><tr><td><code>safeDrawing</code></td><td>Safe drawing. (<code>displayCutout</code> + <code>systemBars</code> + <code>ime</code>)</td></tr><tr><td><code>safeDrawingIgnoringIme</code></td><td>Safe drawing. (ignoring <code>ime</code>) (<code>displayCutout</code> + <code>systemBars</code>)</td></tr><tr><td><code>safeContent</code></td><td>Safe content. (<code>safeDrawing</code> + <code>safeGestures</code>)</td></tr></tbody></table><p>Below are all the insets provided in <code>WindowInsetsWrapper.Absolute</code>.</p><table><thead><tr><th>Insets</th><th>Description</th></tr></thead><tbody><tr><td><code>statusBars</code></td><td>Status bars.</td></tr><tr><td><code>navigationBars</code></td><td>Navigation bars.</td></tr><tr><td><code>systemBars</code></td><td>System bars. (<code>statusBars</code> + <code>navigationBars</code>)</td></tr></tbody></table><h3 id="lifecycleowner-extension" tabindex="-1"><a class="header-anchor" href="#lifecycleowner-extension" aria-hidden="true">#</a> LifecycleOwner Extension</h3>`,59),re={class:"custom-container tip"},pe=e("p",{class:"custom-container-title"},"Contents of This Section",-1),ce={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/context",target:"_blank",rel:"noopener noreferrer"},de={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/activity",target:"_blank",rel:"noopener noreferrer"},ue={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/require-context",target:"_blank",rel:"noopener noreferrer"},ye={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/require-activity",target:"_blank",rel:"noopener noreferrer"},me={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/lifecycle-owner",target:"_blank",rel:"noopener noreferrer"},he={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/require-lifecycle-owner",target:"_blank",rel:"noopener noreferrer"},ve=e("p",null,[s("Extensions for "),e("code",null,"LifecycleOwner"),s(".")],-1),be=o(`<p><code>LifecycleOwner</code> is an important component in Android Jetpack, providing lifecycle management for <code>Activity</code>, <code>Fragment</code>, etc.</p><p><code>BetterAndroid</code> provides extensions for <code>LifecycleOwner</code> to obtain context, which you can use in commonly inherited instances of <code>LifecycleOwner</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your LifecycleOwner.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> lcOwner: </span><span style="color:#F69D50;">LifecycleOwner</span></span>
<span class="line"><span style="color:#768390;">// Get context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lcOwner.context</span></span>
<span class="line"><span style="color:#768390;">// Get Activity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lcOwner.activity</span></span>
<span class="line"><span style="color:#768390;">// Get non-null context (throws exception if failed).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lcOwner.</span><span style="color:#DCBDFB;">requireContext</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Get non-null Activity (throws exception if failed).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lcOwner.</span><span style="color:#DCBDFB;">requireActivity</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can also convert the obtained Activity to a specified type.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> yourActivity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lcOwner.</span><span style="color:#DCBDFB;">activity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">YourActivity</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Or.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> yourActivity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lcOwner.</span><span style="color:#DCBDFB;">requireActivity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">YourActivity</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also get the <code>LifecycleOwner</code> from a <code>View</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your View.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Get the LifecycleOwner of the View.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> lcOwner </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.lifecycleOwner</span></span>
<span class="line"><span style="color:#768390;">// Get the non-null LifecycleOwner (throws exception if failed).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> lcOwner </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">requireLifecycleOwner</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container danger"><p class="custom-container-title">Pay Attention</p><p>This is essentially an experimental feature, and the <code>LifecycleOwner</code> obtained from <code>View</code> is uncertain.</p><p>It essentially determines and prioritizes the first <code>Fragment</code> bound in the <code>Activity</code> by obtaining the context in the <code>View</code>. If no <code>Fragment</code> is bound, it will select the <code>Activity</code>.</p><p>We recommend prioritizing the method of passing the current <code>LifecycleOwner</code> to obtain it for custom <code>View</code>, or passing it after the <code>View</code> is loaded.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// You can pass the LifecycleOwner in the constructor.</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">YourView</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    context: </span><span style="color:#F69D50;">Context</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">    attrs: </span><span style="color:#F69D50;">AttributeSet</span><span style="color:#ADBAC7;">?,</span></span>
<span class="line"><span style="color:#ADBAC7;">    lcOwner: </span><span style="color:#F69D50;">LifecycleOwner</span></span>
<span class="line"><span style="color:#ADBAC7;">) : </span><span style="color:#F69D50;">View</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">context</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">attrs</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Or set the LifecycleOwner after loading.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> lifecycleOwner: </span><span style="color:#F69D50;">LifecycleOwner</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lcOwner</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">init</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Set in your LifecycleOwner.</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your View.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> yourView: </span><span style="color:#F69D50;">YourView</span></span>
<span class="line"><span style="color:#768390;">// Assume this is the current LifecycleOwner.</span></span>
<span class="line"><span style="color:#ADBAC7;">yourView.lifecycleOwner </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="coroutines-extensions" tabindex="-1"><a class="header-anchor" href="#coroutines-extensions" aria-hidden="true">#</a> Coroutines Extensions</h3>`,9),Ae={class:"custom-container tip"},De=e("p",{class:"custom-container-title"},"Contents of This Section",-1),Be={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/launch",target:"_blank",rel:"noopener noreferrer"},ge={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/async",target:"_blank",rel:"noopener noreferrer"},Ce={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/run-delayed",target:"_blank",rel:"noopener noreferrer"},we={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component/repeat-with-delay",target:"_blank",rel:"noopener noreferrer"},fe=e("p",null,"Extensions for coroutines.",-1),xe=o(`<p>Coroutines are an important feature in Kotlin, providing a more elegant solution for asynchronous programming.</p><p>Since coroutines themselves are a standard library in Kotlin and do not directly bind to the Android lifecycle, <code>BetterAndroid</code> provides some practical extension functions to bridge important UI interactions.</p><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>These extension functions only support Kotlin. If you are using Java, you will not be able to use these extensions.</p></div><p>Using coroutines in the Android lifecycle typically requires <code>lifecycleScope</code>, which can be cumbersome.</p><p>Now, you no longer need to use <code>lifecycleScope.launch</code> to start a coroutine. You can directly use it in any instance that inherits from <code>LifecycleOwner</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your LifecycleOwner.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> lcOwner: </span><span style="color:#F69D50;">LifecycleOwner</span></span>
<span class="line"><span style="color:#768390;">// Start a coroutine.</span></span>
<span class="line"><span style="color:#ADBAC7;">lcOwner.</span><span style="color:#DCBDFB;">launch</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Start an async coroutine.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> deferred </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lcOwner.</span><span style="color:#DCBDFB;">async</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Additionally, <code>BetterAndroid</code> provides more extensions for coroutines to switch between the main thread and non-main threads in Android.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your LifecycleOwner.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> lcOwner: </span><span style="color:#F69D50;">LifecycleOwner</span></span>
<span class="line"><span style="color:#768390;">// Execute after a 1s delay.</span></span>
<span class="line"><span style="color:#ADBAC7;">lcOwner.</span><span style="color:#DCBDFB;">runDelayed</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">1000</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Repeat 10 times, with a default delay of 1s each time.</span></span>
<span class="line"><span style="color:#ADBAC7;">lcOwner.</span><span style="color:#DCBDFB;">repeatWithDelay</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">) { index </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    Log.</span><span style="color:#DCBDFB;">d</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;Repeat&quot;</span><span style="color:#ADBAC7;">, </span><span style="color:#96D0FF;">&quot;Index: </span><span style="color:#6CB6FF;">$index</span><span style="color:#96D0FF;">&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dimension-extension" tabindex="-1"><a class="header-anchor" href="#dimension-extension" aria-hidden="true">#</a> Dimension Extension</h3>`,11),Fe={class:"custom-container tip"},ke=e("p",{class:"custom-container-title"},"Contents of This Section",-1),_e={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/-display-density",target:"_blank",rel:"noopener noreferrer"},Te=e("p",null,"Friendly interface to density.",-1),qe={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/to-px",target:"_blank",rel:"noopener noreferrer"},Ve={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/to-dp",target:"_blank",rel:"noopener noreferrer"},Ie=e("p",null,"Extension for Dimension.",-1),Se=o(`<p>There are size issues everywhere in the Android UI, for example, you need to set the <code>padding</code> of a <code>View</code> to 10dp, which can be easily set in the XML layout.</p><p>But in the code you need to use <code>TypedValue.applyDimension</code> to convert, such code does not look very friendly.</p><p>As a result, everyone began to encapsulate a method in the form of <code>dp2px</code>, but this approach was still not very elegant and had problems.</p><p><code>BetterAndroid</code> provides a more elegant solution for this.</p><p>Normally, you only need to pass in an existing <code>Context</code> or <code>Resources</code> to complete the conversion.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your resources.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> resources: </span><span style="color:#F69D50;">Resources</span></span>
<span class="line"><span style="color:#768390;">// Convert 10dp to px.</span></span>
<span class="line"><span style="color:#ADBAC7;">valpx </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context)</span></span>
<span class="line"><span style="color:#768390;">// Convert 10dp to px.</span></span>
<span class="line"><span style="color:#ADBAC7;">valpx </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(resources)</span></span>
<span class="line"><span style="color:#768390;">// Convert 36px to dp.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> dp </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">36</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toDp</span><span style="color:#ADBAC7;">(context)</span></span>
<span class="line"><span style="color:#768390;">// Convert 36px to dp.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> dp </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">36</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toDp</span><span style="color:#ADBAC7;">(resources)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you are already in an environment where a <code>Context</code> or <code>Resources</code> exists, you can write it more simply as follows.</p><p>At this time, you only need to implement a <code>DisplayDensity</code> interface for the current instance, and you do not need to override any methods.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">YourActivity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppCompatActivity</span><span style="color:#ADBAC7;">(), </span><span style="color:#DCBDFB;">DisplayDensity</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Convert 10dp to px.</span></span>
<span class="line"><span style="color:#ADBAC7;">        valpx </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.dp</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Convert 10dp to px.</span></span>
<span class="line"><span style="color:#ADBAC7;">        valpx </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Convert 36px to dp.</span></span>
<span class="line"><span style="color:#ADBAC7;">        valdp </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">36</span><span style="color:#ADBAC7;">.px</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Convert 36px to dp.</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> dp </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">36</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toDp</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>The <code>DisplayDensity</code> interface only supports being implemented into the following instances or instances inherited from them:</p><p><code>Context</code>, <code>Window</code>, <code>View</code>, <code>Resources</code>, <code>Fragment</code>, <code>Dialog</code></p><p>An exception will be thrown if used in an unsupported instance, if you want, you can also override the methods in the <code>DisplayDensity</code> interface to support it manually.</p><p>The naming method of <code>dp</code>, <code>px</code>, <code>toPx</code>, <code>toDp</code> may conflict with the naming method in Jetpack Compose, so it is not recommended to use it in such a project.</p></div><h3 id="resources-extension" tabindex="-1"><a class="header-anchor" href="#resources-extension" aria-hidden="true">#</a> Resources Extension</h3>`,13),Le={class:"custom-container tip"},We=e("p",{class:"custom-container-title"},"Contents of This Section",-1),Ke={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/theme-res-id",target:"_blank",rel:"noopener noreferrer"},Re={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/is-ui-in-night-mode",target:"_blank",rel:"noopener noreferrer"},Oe={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/to-hex-resource-id",target:"_blank",rel:"noopener noreferrer"},Pe={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-drawable-compat",target:"_blank",rel:"noopener noreferrer"},Ee={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-color-compat",target:"_blank",rel:"noopener noreferrer"},Ge={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-color-state-list-compat",target:"_blank",rel:"noopener noreferrer"},Ne={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-float-compat",target:"_blank",rel:"noopener noreferrer"},Me={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-font-compat",target:"_blank",rel:"noopener noreferrer"},Ye={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-boolean",target:"_blank",rel:"noopener noreferrer"},je={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-float",target:"_blank",rel:"noopener noreferrer"},Ue={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-integer",target:"_blank",rel:"noopener noreferrer"},He={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-int-array",target:"_blank",rel:"noopener noreferrer"},ze={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-string-array",target:"_blank",rel:"noopener noreferrer"},Xe={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-string",target:"_blank",rel:"noopener noreferrer"},Je={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-dimension",target:"_blank",rel:"noopener noreferrer"},Qe={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-drawable",target:"_blank",rel:"noopener noreferrer"},$e={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-color-state-list",target:"_blank",rel:"noopener noreferrer"},Ze={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-color",target:"_blank",rel:"noopener noreferrer"},es={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/are-theme-attrs-ids-value-equals",target:"_blank",rel:"noopener noreferrer"},ss={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/has-theme-attrs-id",target:"_blank",rel:"noopener noreferrer"},ns={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-theme-attrs-id",target:"_blank",rel:"noopener noreferrer"},as={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-menu-from-resource",target:"_blank",rel:"noopener noreferrer"},os={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-string-array",target:"_blank",rel:"noopener noreferrer"},ts={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-int-array",target:"_blank",rel:"noopener noreferrer"},ls={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-color-or-null",target:"_blank",rel:"noopener noreferrer"},is={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-color-state-list-or-null",target:"_blank",rel:"noopener noreferrer"},rs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-integer-or-null",target:"_blank",rel:"noopener noreferrer"},ps={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-int-or-null",target:"_blank",rel:"noopener noreferrer"},cs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-text-or-null",target:"_blank",rel:"noopener noreferrer"},ds={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-string-or-null",target:"_blank",rel:"noopener noreferrer"},us={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-boolean-or-null",target:"_blank",rel:"noopener noreferrer"},ys={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-float-or-null",target:"_blank",rel:"noopener noreferrer"},ms={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-dimension-or-null",target:"_blank",rel:"noopener noreferrer"},hs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-dimension-pixel-size-or-null",target:"_blank",rel:"noopener noreferrer"},vs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-dimension-pixel-offset-or-null",target:"_blank",rel:"noopener noreferrer"},bs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-layout-dimension-or-null",target:"_blank",rel:"noopener noreferrer"},As={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-drawable-or-null",target:"_blank",rel:"noopener noreferrer"},Ds={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.base/get-font-or-null",target:"_blank",rel:"noopener noreferrer"},Bs=e("p",null,[s("Extensions for "),e("code",null,"Resources"),s(".")],-1),gs=o(`<p>Resources are a very important part of Android, they contain layouts, images, strings, etc, needed in the apps.</p><p>In order to use <code>Resources</code> more conveniently, <code>BetterAndroid</code> provides some practical extension functions for it.</p><p>Get the theme resource ID in <code>ContextThemeWrapper</code>.</p><p>Normally, the theme resource ID set using <code>setTheme</code> cannot be obtained directly. For this reason, <code>BetterAndroid</code> provides you with a way to obtain it through reflection.</p><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>This method may not work on all devices or be compatible with all Android versions, please test it yourself.</p></div><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your ContextThemeWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">ContextThemeWrapper</span></span>
<span class="line"><span style="color:#768390;">// Get the set theme resource ID.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> themeResId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.themeResId</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For the attr in <code>Resources</code>, usually we need to create a <code>TypedValue</code> object, and then use <code>Context.getTheme().resolveAttribute</code> to fill it with the corresponding ID to obtain its own value.</p><p>For example, if we need to get the value of <code>android.R.attr.windowBackground</code>, we need to do this.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create a TypedValue object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> typedValue </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">TypedValue</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Use Context.getTheme().resolveAttribute to fill in the corresponding ID.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.theme.</span><span style="color:#DCBDFB;">resolveAttribute</span><span style="color:#ADBAC7;">(android.R.attr.windowBackground, typedValue, </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Get the resource ID.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> windowBackgroundId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> typedValue.resourceId</span></span>
<span class="line"><span style="color:#768390;">// Get its own value.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> windowBackground </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">getDrawable</span><span style="color:#ADBAC7;">(windowBackgroundId)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The whole process can be said to be very cumbersome, so <code>BetterAndroid</code> provides a simpler way for this.</p><p>Now, you just need to use the following method to get the value of itself.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Get its own value.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> windowBackground </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">getThemeAttrsDrawable</span><span style="color:#ADBAC7;">(android.R.attr.windowBackground)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you only need to get the resource ID corresponding to attr, you can use the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Get the resource ID.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> windowBackgroundId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">getThemeAttrsId</span><span style="color:#ADBAC7;">(android.R.attr.windowBackground)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also only determine whether the resource ID corresponding to attr exists.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Determine whether the resource ID corresponding to attr exists.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> hasWindowBackgroundId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">hasThemeAttrsId</span><span style="color:#ADBAC7;">(android.R.attr.windowBackground)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also compare two attr values to see if they are equals.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Compare the values of the two attr to see if they are equals.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isEquals </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">areThemeAttrsIdsValueEquals</span><span style="color:#ADBAC7;">(R.attr.first_attr, R.attr.second_attr)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>The <code>Context.getThemeAttrs*</code> series of methods support common instances in Android that can be converted to actual resource objects, such as <code>getThemeAttrsColor</code>, <code>getThemeAttrsInteger</code>, <code>getThemeAttrsString</code>, etc.</p><p>Currently <code>Context.getThemeAttrs*</code> and <code>Context.areThemeAttrsIdsValueEquals</code> support the value contents of the following common resource IDs:</p><p><code>Color</code>, <code>ColorStateList</code>, <code>Drawable</code>, <code>Dimension</code>, <code>String</code>, <code>StringArray</code>, <code>IntArray</code>, <code>Float</code>, <code>Boolean</code></p></div><p>There is no way to directly obtain the <code>Menu</code> resource ID and parse it into a <code>Menu</code> object in Android.</p><p>For this reason, <code>BetterAndroid</code> provides a possible way to obtain it.</p><p><code>BetterAndroid</code> encapsulates the method of using <code>PopupMenu</code> and converting the obtained content into a <code>List&lt;MenuItem&gt;</code> object through <code>MenuInflater</code>.</p><p>Now, you can easily use the following method to get the value of the <code>Menu</code> resource ID.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Get the value of Menu resource ID.</span></span>
<span class="line"><span style="color:#768390;">// The obtained content is a List&lt;MenuItem&gt; object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> menuItems </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">getMenuFromResource</span><span style="color:#ADBAC7;">(R.menu.my_menu)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For compatibility processing of historical version systems, <code>BetterAndroid</code> encapsulates the methods provided by <code>ResourcesCompat</code>, now, you do not need to consider the issue of some methods being deprecated.</p><p>You only need to add <code>Compat</code> after each method to automatically make it compatible and call it like the original method, with exactly the same function.</p><p>Below is an example of compatibility handling for <code>Drawable</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your resources.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> resources: </span><span style="color:#F69D50;">Resources</span></span>
<span class="line"><span style="color:#768390;">// Get the drawable through context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> drawable </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">getDrawableCompat</span><span style="color:#ADBAC7;">(R.drawable.my_drawable)</span></span>
<span class="line"><span style="color:#768390;">// Get the drawable through resources.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> drawable </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> resources.</span><span style="color:#DCBDFB;">getDrawableCompat</span><span style="color:#ADBAC7;">(R.drawable.my_drawable, context.theme)</span></span>
<span class="line"><span style="color:#768390;">// You can also use generics to convert it to the corresponding type.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> drawable </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">getDrawableCompat</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">ColorDrawable</span><span style="color:#ADBAC7;">&gt;(R.drawable.my_background)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The following is a comparison table of the original method and the compatibility method.</p><table><thead><tr><th>Original Method</th><th>Compatibility Method</th></tr></thead><tbody><tr><td><code>Context.getDrawable</code></td><td><code>Context.getDrawableCompat</code></td></tr><tr><td><code>Context.getColor</code></td><td><code>Context.getColorCompat</code></td></tr><tr><td><code>Context.getColorStateList</code></td><td><code>Context.getColorStateListCompat</code></td></tr><tr><td><code>Context.getFloat</code></td><td><code>Context.getFloatCompat</code></td></tr><tr><td><code>Resources.getDrawable</code></td><td><code>Resources.getDrawableCompat</code></td></tr><tr><td><code>Resources.getColor</code></td><td><code>Resources.getColorCompat</code></td></tr><tr><td><code>Resources.getColorStateList</code></td><td><code>Resources.getColorStateListCompat</code></td></tr><tr><td><code>Resources.getFloat</code></td><td><code>Resources.getFloatCompat</code></td></tr><tr><td><code>Resources.getFont</code></td><td><code>Context.getFontCompat</code></td></tr></tbody></table><div class="custom-container tip"><p class="custom-container-title">Tips</p><p><code>BetterAndroid</code> also provides <code>getStringArray</code>, <code>getIntArray</code> and <code>getColorOrNull</code> utility methods for <code>TypedArray</code>, which you can find them in <strong>Contents of This Section</strong> above.</p><p>The <code>TypedArray.get...OrNull</code> method differs from the original method in that it first checks if the attribute resource exists before returning the relevant result.</p><p>If it does not exist, it returns the default <code>defValue</code>, which is <code>null</code> by default.</p><p>For example, with a color attribute resource, sometimes we need to determine whether the user has set this attribute.</p><p>The original method can only set a non-<code>null</code> default value, but any color value is valid. In this case, the need to <strong>first check if the attribute resource exists</strong> arises.</p><p>The specific implementation is <code>val myType = if (value.hasValue(index)) value.get...(..., ...) else ...</code>.</p><p>In practice, we need to encapsulate such an approach ourselves to call the corresponding attribute resource, which is cumbersome.</p><p>Therefore, <code>BetterAndroid</code> provides this encapsulation, allowing you to operate directly using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#ADBAC7;">&lt;</span><span style="color:#8DDB8C;">declare-styleable</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">name</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;MyView&quot;</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    &lt;</span><span style="color:#8DDB8C;">attr</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">name</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;myType&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">format</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;color&quot;</span><span style="color:#ADBAC7;"> /&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">&lt;/</span><span style="color:#8DDB8C;">declare-styleable</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#ADBAC7;">&lt;</span><span style="color:#8DDB8C;">com.example.MyView</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">android:layout_width</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;match_parent&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">android:layout_height</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;wrap_content&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">app:myType</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;#FF000000&quot;</span><span style="color:#ADBAC7;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">withStyledAttributes</span><span style="color:#ADBAC7;">(attrs, R.styleable.MyView) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// If &quot;app:myType&quot; is declared in XML, the value of myType is 0xFF000000, otherwise null.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> myType </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getColorOrNull</span><span style="color:#ADBAC7;">(R.styleable.MyView_myType)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// If &quot;app:myType&quot; is declared in XML, the value of myType is 0xFF000000, otherwise 0xFF232323.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The value of myType can be null in any case,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// so it is not recommended to use !! to assert non-null.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> myType </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getColorOrNull</span><span style="color:#ADBAC7;">(R.styleable.MyView_myType, </span><span style="color:#6CB6FF;">0xFF232323</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toInt</span><span style="color:#ADBAC7;">())</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// (Recommended) You can ensure that the value of myType is not null</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// by keeping defValue as null.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> myType </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getColorOrNull</span><span style="color:#ADBAC7;">(R.styleable.MyView_myType) ?: </span><span style="color:#6CB6FF;">0xFF232323</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toInt</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Or, you can handle the case where myType is null while keeping defValue as null.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// If not null, the user has set the &quot;app:myType&quot; attribute.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (myType </span><span style="color:#F47067;">!=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Function expansion of system night mode (dark mode).</p><p>The system&#39;s night mode is determined using <code>Configuration.UI_MODE_NIGHT_MASK</code>, in order to make this function more understandable, you do not need to use bit operations to determine.</p><p>Because usually we don&#39;t need to care about which hosting state the current system&#39;s night mode is in, we only need to know whether the current system appearance is dark.</p><p>So <code>BetterAndroid</code> provides an extension in <code>Configuration</code> that directly uses the <code>Boolean</code> type for judgment.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Determine whether the current system is in dark mode.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isDarkMode </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.resources.configuration.isUiInNightMode</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="system-colors" tabindex="-1"><a class="header-anchor" href="#system-colors" aria-hidden="true">#</a> System Colors</h3>`,46),Cs={class:"custom-container tip"},ws=e("p",{class:"custom-container-title"},"Contents of This Section",-1),fs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.component.feature/-system-colors",target:"_blank",rel:"noopener noreferrer"},xs=e("p",null,"Extension for system colors (dynamic colors).",-1),Fs=o(`<p>In Android 12, the official provides us with a new feature, namely dynamic colors.</p><p>Different from the traditional wallpaper color selection, the dynamic colors in Material 3 are calculated based on the hierarchical tones of the wallpaper.</p><p><code>BetterAndroid</code> encapsulates the theme colors provided by the system into <code>SystemColors</code>, and you can dynamically obtain the system&#39;s theme colors at the code level.</p><p>Here is an example of creating and using <code>SystemColors</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create SystemColors object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemColors </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> SystemColors.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(context)</span></span>
<span class="line"><span style="color:#768390;">// Get the color of android.R.color.system_accent1_100 provided by the system.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> accentColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> systemColors.</span><span style="color:#DCBDFB;">systemAccentPrimary</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Get the color of com.google.android.material.R.color.material_dynamic_primary50 provided by Material.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> primaryColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> systemColors.</span><span style="color:#DCBDFB;">materialDynamicPrimary</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">50</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Not every device running Android 12 supports dynamic colors, you can use the following methods to determine.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// You can directly determine whether the current system supports dynamic colors.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isAvailable </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> SystemColors.isAvailable</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Retrieving colors will return the system-provided default color when not supported, but if the target device is older than Android 12, any color retrieved from <code>SystemColors</code> will be <code>Color.TRANSPARENT</code>.</p><p>The following is a complete list of the color methods supported by <code>SystemColors</code> and their available parameters.</p><table><thead><tr><th>Method Name</th><th>Available Parameters</th></tr></thead><tbody><tr><td><code>systemAccentPrimary</code></td><td>0, 10, 50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000</td></tr><tr><td><code>systemAccentSecondary</code></td><td>0, 10, 50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000</td></tr><tr><td><code>systemAccentTertiary</code></td><td>0, 10, 50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000</td></tr><tr><td><code>systemNeutralPrimary</code></td><td>0, 10, 50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000</td></tr><tr><td><code>systemNeutralSecondary</code></td><td>0, 10, 50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000</td></tr><tr><td><code>materialDynamicPrimary</code></td><td>0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 99, 100</td></tr><tr><td><code>materialDynamicSecondary</code></td><td>0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 99, 100</td></tr><tr><td><code>materialDynamicTertiary</code></td><td>0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 99, 100</td></tr><tr><td><code>materialDynamicNeutral</code></td><td>0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 99, 100</td></tr><tr><td><code>materialDynamicNeutralVariant</code></td><td>0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 99, 100</td></tr></tbody></table><div class="custom-container danger"><p class="custom-container-title">Pay Attention</p><p>You can only pass in the values among the available parameters listed above in the given method.</p><p>Other values are not supported, otherwise an exception will be thrown.</p></div><h3 id="color-extension" tabindex="-1"><a class="header-anchor" href="#color-extension" aria-hidden="true">#</a> Color Extension</h3>`,14),ks={class:"custom-container tip"},_s=e("p",{class:"custom-container-title"},"Contents of This Section",-1),Ts={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/-attr-state",target:"_blank",rel:"noopener noreferrer"},qs=e("p",null,[s("Color state based on "),e("code",null,"ColorStateList"),s(".")],-1),Vs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/is-bright-color",target:"_blank",rel:"noopener noreferrer"},Is={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/to-hex-color",target:"_blank",rel:"noopener noreferrer"},Ss={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/to-alpha-color",target:"_blank",rel:"noopener noreferrer"},Ls={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/mix-color-of",target:"_blank",rel:"noopener noreferrer"},Ws={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/to-normal-color-state-list",target:"_blank",rel:"noopener noreferrer"},Ks={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/to-nullable-color-state-list",target:"_blank",rel:"noopener noreferrer"},Rs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/-color-state-list",target:"_blank",rel:"noopener noreferrer"},Os=e("p",null,"Extensions for color.",-1),Ps=o(`<p>Color exists in the form of <code>Integer</code> in Android.</p><p>Although there is a class named <code>Color</code> to encapsulate it, many methods are added in higher versions of the system and <code>androidx</code> is no specific compatible implementation for it, objects passed in code context are also usually passed directly using <code>Integer</code>.</p><p><code>BetterAndroid</code> has no reason and no need to redesign a wrapper class to manage colors, so <code>BetterAndroid</code> only provides relevant extensions for the <code>Integer</code> type.</p><p>All color objects passed in the method will be marked with the <code>@ColorInt</code> annotation. please also comply with the specifications provided by <code>androidx</code>.</p><p>Here are some relevant example uses of color extensions.</p><p>Determine how bright the color is.</p><p>This is useful when you need to decide whether to use dark text based on how bright the color is.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume we have the following colors.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE</span></span>
<span class="line"><span style="color:#768390;">// To determine how bright it is, you just need to use the following method.</span></span>
<span class="line"><span style="color:#768390;">// You will definitely get a true because this is a white color.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isBright </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> color.isBrightColor</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Convert color to HEX string.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume we have the following colors.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE</span></span>
<span class="line"><span style="color:#768390;">// To convert it to a HEX string you just need to use the following method.</span></span>
<span class="line"><span style="color:#768390;">// You will get a &quot;#FFFFFFFF&quot; with transparency.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> hexString </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> color.</span><span style="color:#DCBDFB;">toHexColor</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set the transparency of the current color.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume we have the following colors.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE</span></span>
<span class="line"><span style="color:#768390;">// You can use a floating point number from 0f-1f to set transparency.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> alphaColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> color.</span><span style="color:#DCBDFB;">toAlphaColor</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">0.5f</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// You can also use an integer from 0-255 to set transparency.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> alphaColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> color.</span><span style="color:#DCBDFB;">toAlphaColor</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">127</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mix two colors.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume we have the following colors.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> color1 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> color2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.BLACK</span></span>
<span class="line"><span style="color:#768390;">// You can mix them very easily using.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> mixColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">mixColorOf</span><span style="color:#ADBAC7;">(color1, color2)</span></span>
<span class="line"><span style="color:#768390;">// You can also set the mixing ratio, the default is 0.5f.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> mixColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">mixColorOf</span><span style="color:#ADBAC7;">(color1, color2, </span><span style="color:#6CB6FF;">0.2f</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BetterAndroid</code> also provides some extended functions for <code>ColorStateList</code>.</p><p>You can quickly convert existing colors to a <code>ColorStateList</code> with default color using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume we have the following colors.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE</span></span>
<span class="line"><span style="color:#768390;">// Convert it to a ColorStateList with default colors using the following method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> colorStateList </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> color.</span><span style="color:#DCBDFB;">toNormalColorStateList</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can also convert to a ColorStateList that returns null when the color is transparent.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> colorStateList </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> color.</span><span style="color:#DCBDFB;">toNullableColorStateList</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also manually create a <code>ColorStateList</code> via <code>AttrState</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> colorStateList </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ColorStateList</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    AttrState.CHECKED to Color.WHITE,</span></span>
<span class="line"><span style="color:#ADBAC7;">    AttrState.PRESSED to Color.BLACK,</span></span>
<span class="line"><span style="color:#ADBAC7;">    AttrState.NORMAL to Color.TRANSPARENT</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bitmap-extension" tabindex="-1"><a class="header-anchor" href="#bitmap-extension" aria-hidden="true">#</a> Bitmap Extension</h3>`,26),Es={class:"custom-container tip"},Gs=e("p",{class:"custom-container-title"},"Contents of This Section",-1),Ns={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/decode-to-bitmap",target:"_blank",rel:"noopener noreferrer"},Ms={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/decode-to-bitmap-or-null",target:"_blank",rel:"noopener noreferrer"},Ys={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/create-bitmap",target:"_blank",rel:"noopener noreferrer"},js={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/create-bitmap-or-null",target:"_blank",rel:"noopener noreferrer"},Us={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/write-bitmap",target:"_blank",rel:"noopener noreferrer"},Hs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/compress-bitmap",target:"_blank",rel:"noopener noreferrer"},zs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/blur",target:"_blank",rel:"noopener noreferrer"},Xs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/round",target:"_blank",rel:"noopener noreferrer"},Js={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/compress",target:"_blank",rel:"noopener noreferrer"},Qs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/reduce",target:"_blank",rel:"noopener noreferrer"},$s=e("p",null,"Extensions for bitmap.",-1),Zs={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics.base/-bitmap-blur-factory",target:"_blank",rel:"noopener noreferrer"},en=e("p",null,"Extension suitable for bitmap blurring.",-1),sn=o(`<p>In Android, bitmaps can be used in various places, and they are an important object used to display images.</p><p><code>BetterAndroid</code> provides a series of extended functions for bitmaps, from loading to transforming, scaling, compressing and blurring them.</p><p>When loading bitmaps, you no longer need to use <code>BitmapFactory</code>, now there are the following methods to help you complete this operation more conveniently.</p><p>Load bitmap via a <code>File</code> or an <code>InputStream</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume your image is located at this path.</span></span>
<span class="line"><span style="color:#768390;">// Note that this path is only for demonstration, in actual situations, </span></span>
<span class="line"><span style="color:#768390;">// you need to access files in the external storage.</span></span>
<span class="line"><span style="color:#768390;">// You need to apply for various different permissions and should use the</span></span>
<span class="line"><span style="color:#768390;">// Environment.getExternalStorageDirectory() method to get the path.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> imageFile </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">File</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;/storage/emulated/0/DCIM/Camera/IMG_20210901_000000.jpg&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Create a file input stream through the file path.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> inputStream </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FileInputStream</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;/storage/emulated/0/DCIM/Camera/IMG_20210901_000000.jpg&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Load bitmap through file object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> imageFile.</span><span style="color:#DCBDFB;">decodeToBitmap</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can configure it by passing the BitmapFactory.Options object in the method parameter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> imageFile.</span><span style="color:#DCBDFB;">decodeToBitmap</span><span style="color:#ADBAC7;">(BitmapFactory.</span><span style="color:#DCBDFB;">Options</span><span style="color:#ADBAC7;">().</span><span style="color:#DCBDFB;">apply</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// ...</span></span>
<span class="line"><span style="color:#ADBAC7;">})</span></span>
<span class="line"><span style="color:#768390;">// Load the bitmap through the input stream.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> inputStream.</span><span style="color:#DCBDFB;">decodeToBitmap</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Load bitmap via <code>ByteArray</code>.</p><p>If you have an image encoded via Base64, you can convert it to a byte array and load the bitmap.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your Base64 string.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> base64String </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAA...&quot;</span></span>
<span class="line"><span style="color:#768390;">// Convert Base64 string to byte array.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> byteArray </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Base64.</span><span style="color:#DCBDFB;">decode</span><span style="color:#ADBAC7;">(base64String, Base64.DEFAULT)</span></span>
<span class="line"><span style="color:#768390;">// Load bitmap via byte array.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> byteArray.</span><span style="color:#DCBDFB;">decodeToBitmap</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Load bitmap via <code>Resources</code>.</p><p>This operation actually creates a new <code>Bitmap</code> object with a known <code>Drawable</code> resource ID.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your resources.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> resources: </span><span style="color:#F69D50;">Resources</span></span>
<span class="line"><span style="color:#768390;">// Load bitmap via resource ID.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> resources.</span><span style="color:#DCBDFB;">createBitmap</span><span style="color:#ADBAC7;">(R.drawable.my_image)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>When you are not sure whether the bitmap can be loaded successfully, you can replace the loading method with <code>decodeToBitmapOrNull</code> and <code>createBitmapOrNull</code>, so that if the loading fails, it will return <code>null</code> instead of throwing an exception.</p></div><p>After a bitmap is loaded into memory or a bitmap object exists in memory, you can resave it to a file.</p><p>Kotlin&#39;s stdlib has already provided a <code>File.writeText</code> method for the <code>File</code> object, so <code>BetterAndroid</code> follows its example and provides a <code>File.writeBitmap</code> method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your bitmap object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap: </span><span style="color:#F69D50;">Bitmap</span></span>
<span class="line"><span style="color:#768390;">// Assume this is the file you want to save to.</span></span>
<span class="line"><span style="color:#768390;">// Note that this path is only for demonstration, in actual situations,</span></span>
<span class="line"><span style="color:#768390;">// you need to access files in the external storage.</span></span>
<span class="line"><span style="color:#768390;">// You need to apply for various different permissions and should use the</span></span>
<span class="line"><span style="color:#768390;">// Environment.getExternalStorageDirectory() method to get the path.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> imageFile </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">File</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;/storage/emulated/0/DCIM/Camera/IMG_20210901_000000_modified.jpg&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Save bitmap to file.</span></span>
<span class="line"><span style="color:#ADBAC7;">imageFile.</span><span style="color:#DCBDFB;">writeBitmap</span><span style="color:#ADBAC7;">(bitmap)</span></span>
<span class="line"><span style="color:#768390;">// You can configure it by adjusting the format and quality parameters.</span></span>
<span class="line"><span style="color:#768390;">// Default is JPEG format, quality is 100.</span></span>
<span class="line"><span style="color:#ADBAC7;">imageFile.</span><span style="color:#DCBDFB;">writeBitmap</span><span style="color:#ADBAC7;">(bitmap, format </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Bitmap.CompressFormat.PNG, quality </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you can actually get an <code>OutputStream</code> object, you can write the bitmap to the output stream using the following.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your bitmap object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap: </span><span style="color:#F69D50;">Bitmap</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your output stream object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> outputStream: </span><span style="color:#F69D50;">OutputStream</span></span>
<span class="line"><span style="color:#768390;">// Use the use method to automatically close the output stream.</span></span>
<span class="line"><span style="color:#ADBAC7;">outputStream.</span><span style="color:#DCBDFB;">use</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Write the bitmap to the output stream.</span></span>
<span class="line"><span style="color:#ADBAC7;">    it.</span><span style="color:#DCBDFB;">compressBitmap</span><span style="color:#ADBAC7;">(bitmap)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// You can configure it by adjusting the format and quality parameters.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Default is JPEG format, quality is 100.</span></span>
<span class="line"><span style="color:#ADBAC7;">    it.</span><span style="color:#DCBDFB;">compressBitmap</span><span style="color:#ADBAC7;">(bitmap, format </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Bitmap.CompressFormat.PNG, quality </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The following are extended functions for bitmap scaling, shrinking, and blur.</p><p>Scale bitmap.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your bitmap object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap: </span><span style="color:#F69D50;">Bitmap</span></span>
<span class="line"><span style="color:#768390;">// Scale by multiple, default is 2 times.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> scaledBitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bitmap.</span><span style="color:#DCBDFB;">reduce</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Shrink bitmap.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your bitmap object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap: </span><span style="color:#F69D50;">Bitmap</span></span>
<span class="line"><span style="color:#768390;">// Shrink bitmap to 100 KB size.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> shrinkedBitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bitmap.</span><span style="color:#DCBDFB;">shrink</span><span style="color:#ADBAC7;">(maxSize </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100f</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// You can configure it by adjusting the format and quality parameters.</span></span>
<span class="line"><span style="color:#768390;">// Default is JPEG format, quality is 100.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> shrinkedBitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bitmap.</span><span style="color:#DCBDFB;">shrink</span><span style="color:#ADBAC7;">(maxSize </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100f</span><span style="color:#ADBAC7;">, format </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Bitmap.CompressFormat.PNG, quality </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Rounded bitmap.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your bitmap object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap: </span><span style="color:#F69D50;">Bitmap</span></span>
<span class="line"><span style="color:#768390;">// Set the bitmap to a rounded corner with a radius of 10dp.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> roundBitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bitmap.</span><span style="color:#DCBDFB;">round</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// You can also process the bitmap background color, default is pure white.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> roundBitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bitmap.</span><span style="color:#DCBDFB;">round</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context), backgroundColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.BLACK)</span></span>
<span class="line"><span style="color:#768390;">// You can also set the fillet radius for each corner.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> roundBitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bitmap.</span><span style="color:#DCBDFB;">round</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    topLeft </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context),</span></span>
<span class="line"><span style="color:#ADBAC7;">    topRight </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context),</span></span>
<span class="line"><span style="color:#ADBAC7;">    bottomLeft </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context),</span></span>
<span class="line"><span style="color:#ADBAC7;">    bottomRight </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">9</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context)</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To blur bitmaps, you can also use <code>BitmapBlurFactory</code> to accomplish this.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your bitmap object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> bitmap: </span><span style="color:#F69D50;">Bitmap</span></span>
<span class="line"><span style="color:#768390;">// Blur the bitmap with a blur level of 25.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> blurBitmap </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bitmap.</span><span style="color:#DCBDFB;">blur</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">25</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,35),nn={class:"custom-container warning"},an=e("p",{class:"custom-container-title"},"Notice",-1),on=e("p",null,"The blur provided here is just a general algorithm, which can quickly achieve blur effects, but may have problems with speed and performance, and cannot be used for motion blur effects.",-1),tn=e("p",null,"For the bitmap blur effect in Android, you can refer to and use other possible third-party libraries.",-1),ln=e("p",null,"Currently, there is no universal and complete solution, this is a historical problem in Android.",-1),rn=e("p",null,[s("There is no reason and no need for "),e("code",null,"BetterAndroid"),s(" to be special, encapsulates related functions for bitmap blur.")],-1),pn=e("code",null,"RenderEffect",-1),cn=e("code",null,"RenderScript",-1),dn={href:"https://github.com/android/renderscript-intrinsics-replacement-toolkit",target:"_blank",rel:"noopener noreferrer"},un=e("h3",{id:"drawable-extension",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#drawable-extension","aria-hidden":"true"},"#"),s(" Drawable Extension")],-1),yn={class:"custom-container tip"},mn=e("p",{class:"custom-container-title"},"Contents of This Section",-1),hn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/-gradient-drawable-compat",target:"_blank",rel:"noopener noreferrer"},vn=e("p",null,[s("Compatible handler class for "),e("code",null,"GradientDrawable"),s(".")],-1),bn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/set-padding-compat",target:"_blank",rel:"noopener noreferrer"},An={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/set-padding",target:"_blank",rel:"noopener noreferrer"},Dn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.graphics/update-padding",target:"_blank",rel:"noopener noreferrer"},Bn=e("p",null,[s("Extensions for "),e("code",null,"Drawable"),s(".")],-1),gn=o(`<p>In some cases, we may need to use scenarios that directly manipulate <code>Drawable</code> objects.</p><p><code>BetterAndroid</code> provides some extended functions that may be used for this purpose.</p><p>Sets <code>padding</code> for supported <code>Drawable</code>.</p><p>You can set <code>padding</code> on any type of <code>Drawable</code> using the following method, but it only works on the following types of <code>Drawable</code>:</p><p><code>RippleDrawable</code>, <code>LayerDrawable</code>, <code>ShapeDrawable</code>, <code>GradientDrawable</code></p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your drawable.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> drawable: </span><span style="color:#F69D50;">Drawable</span></span>
<span class="line"><span style="color:#768390;">// Set padding for supported drawables.</span></span>
<span class="line"><span style="color:#ADBAC7;">drawable.</span><span style="color:#DCBDFB;">setPadding</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Or update the padding of the specified edge.</span></span>
<span class="line"><span style="color:#ADBAC7;">drawable.</span><span style="color:#DCBDFB;">updatePadding</span><span style="color:#ADBAC7;">(horizontal </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set <code>padding</code> for <code>GradientDrawable</code> and handle it for compatibility.</p><p><code>GradientDrawable</code> that supports setting <code>padding</code> at the code level is only available in Android 10 and above.</p><p>You can set <code>padding</code> for <code>GradientDrawable</code> using the following compatible methods.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your GradientDrawable object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> drawable: </span><span style="color:#F69D50;">GradientDrawable</span></span>
<span class="line"><span style="color:#768390;">// Set padding.</span></span>
<span class="line"><span style="color:#ADBAC7;">drawable.</span><span style="color:#DCBDFB;">setPaddingCompat</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context), </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context), </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context), </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Or use the setting method mentioned above to set the padding of all sides at once.</span></span>
<span class="line"><span style="color:#768390;">// This method will automatically call to setPaddingCompat for you.</span></span>
<span class="line"><span style="color:#ADBAC7;">drawable.</span><span style="color:#DCBDFB;">setPadding</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>But please note that in Android 10 and below, you need to use <code>GradientDrawableCompat</code> to create <code>GradientDrawable</code> for <code>padding</code> to take effect.</p><p>You can also inherit <code>GradientDrawableCompat</code> to implement your own <code>GradientDrawable</code>.</p><h3 id="toast-extension" tabindex="-1"><a class="header-anchor" href="#toast-extension" aria-hidden="true">#</a> Toast Extension</h3>`,15),Cn={class:"custom-container tip"},wn=e("p",{class:"custom-container-title"},"Contents of This Section",-1),fn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/toast",target:"_blank",rel:"noopener noreferrer"},xn=e("p",null,[s("Extensions for "),e("code",null,"Toast"),s(".")],-1),Fn=e("p",null,[e("code",null,"Toast"),s(" in Android has a wide range of usage scenarios, but there are various usage problems.")],-1),kn=e("p",null,[s("Earlier, "),e("code",null,"ktx"),s(" of "),e("code",null,"androidx"),s(" provided an extension method of "),e("code",null,"Context.toast"),s(" for "),e("code",null,"Toast"),s(", but it was later removed due to notification permission issues.")],-1),_n={href:"https://github.com/android/android-ktx/issues/143",target:"_blank",rel:"noopener noreferrer"},Tn=o(`<p>It is necessary to simplify the use of <code>Toast</code> in Kotlin, because sometimes the fastest way to display information is to show a <code>Toast</code>.</p><p>So <code>BetterAndroid</code> provides a <code>toast</code> extension method for this purpose, you can use it in the following instances or instances inherited from them:</p><p><code>Context</code>, <code>Window</code>, <code>Fragment</code>, <code>View</code>, <code>Dialog</code></p><p>You can show a <code>Toast</code> very simply using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Show a toast</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">toast</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// You can pass in Toast.LENGTH_SHORT or Toast.LENGTH_LONG in the method parameters to set the duration.</span></span>
<span class="line"><span style="color:#768390;">// Default is Toast.LENGTH_SHORT.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">toast</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span><span style="color:#ADBAC7;">, Toast.LENGTH_SHORT)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The above are all the ways to use it, <code>BetterAndroid</code> did not continue to customize it because the custom functions were also restricted by Android in the later period.</p>`,7),qn={href:"https://developer.android.com/about/versions/11/behavior-changes-11#custom-toasts-bg-blocked",target:"_blank",rel:"noopener noreferrer"},Vn=o(`<p><code>Toast</code> can only be used in the main thread, if you want to show a <code>Toast</code> in any thread, you only need to configure it simply like below.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create a new thread.</span></span>
<span class="line"><span style="color:#DCBDFB;">Thread</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Delay 1 second.</span></span>
<span class="line"><span style="color:#ADBAC7;">    Thread.</span><span style="color:#DCBDFB;">sleep</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">1000</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Show a toast and set allowBackground to true.</span></span>
<span class="line"><span style="color:#ADBAC7;">    context.</span><span style="color:#DCBDFB;">toast</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span><span style="color:#ADBAC7;">, allowBackground </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}.</span><span style="color:#DCBDFB;">start</span><span style="color:#ADBAC7;">() </span><span style="color:#768390;">// Start it.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this way, you can show a <code>Toast</code> in any thread, it should be noted that this parameter is <code>false</code> by default and you need to set it manually.</p><p>You should try to avoid showing <code>Toast</code> in non-main threads, because this may lead to some possible &quot;black box problems&quot; and unknown hidden dangers.</p>`,5),In={class:"custom-container warning"},Sn=o('<p class="custom-container-title">Notice</p><p>As mentioned above, in Android 13 and above, you need to define and add runtime permissions for <code>Toast</code> just like notifications.</p><p>Some third-party ROMs like MIUI may allow <code>Toast</code> to show inside the app without permission.</p><p>If there is no need for floating windows, a good suggestion is to use some other similar behavior instead of <code>Toast</code>, such as using the <code>Snackbar</code> provided by the material component.</p>',4),Ln={href:"https://developer.android.com/develop/ui/views/notifications/notification-permission",target:"_blank",rel:"noopener noreferrer"},Wn=e("h3",{id:"window-extension",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#window-extension","aria-hidden":"true"},"#"),s(" Window Extension")],-1),Kn={class:"custom-container tip"},Rn=e("p",{class:"custom-container-title"},"Contents of This Section",-1),On={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-layout-params",target:"_blank",rel:"noopener noreferrer"},Pn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-screen-brightness",target:"_blank",rel:"noopener noreferrer"},En={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/clear-screen-brightness",target:"_blank",rel:"noopener noreferrer"},Gn=e("p",null,[s("Extensions for "),e("code",null,"Window"),s(".")],-1),Nn=o(`<p><code>BetterAndroid</code> provides some possible extension functions for <code>Window</code>.</p><p>You can modify <code>Window.attributes</code> in the same way as <code>View.updateLayoutParams</code> in <code>androidx</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your window.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> window: </span><span style="color:#F69D50;">Window</span></span>
<span class="line"><span style="color:#768390;">// Modify parameters in Window.attributes.</span></span>
<span class="line"><span style="color:#ADBAC7;">window.</span><span style="color:#DCBDFB;">updateLayoutParams</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    gravity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Gravity.CENTER</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// ...</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BetterAndroid</code> also encapsulates the method of setting the screen brightness separately for <code>Window</code>.</p><p>You can modify <code>Window.attributes.screenBrightness</code> more conveniently using the following methods.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your window.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> window: </span><span style="color:#F69D50;">Window</span></span>
<span class="line"><span style="color:#768390;">// Set screen brightness (0-100) for the current window.</span></span>
<span class="line"><span style="color:#ADBAC7;">window.</span><span style="color:#DCBDFB;">updateScreenBrightness</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">50</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// You can also use Float type parameters to set the screen brightness.</span></span>
<span class="line"><span style="color:#ADBAC7;">window.</span><span style="color:#DCBDFB;">updateScreenBrightness</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">0.5f</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you need to restore the default screen brightness provided by the system, you can use the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your window.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> window: </span><span style="color:#F69D50;">Window</span></span>
<span class="line"><span style="color:#768390;">// Clear the set screen brightness.</span></span>
<span class="line"><span style="color:#ADBAC7;">window.</span><span style="color:#DCBDFB;">clearScreenBrightness</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="view-extension" tabindex="-1"><a class="header-anchor" href="#view-extension" aria-hidden="true">#</a> View Extension</h3>`,12),Mn={class:"custom-container tip"},Yn=e("p",{class:"custom-container-title"},"Contents of This Section",-1),jn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/location",target:"_blank",rel:"noopener noreferrer"},Un={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/tag",target:"_blank",rel:"noopener noreferrer"},Hn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/get-tag",target:"_blank",rel:"noopener noreferrer"},zn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/parent",target:"_blank",rel:"noopener noreferrer"},Xn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/parent-or-null",target:"_blank",rel:"noopener noreferrer"},Jn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/child",target:"_blank",rel:"noopener noreferrer"},Qn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/child-or-null",target:"_blank",rel:"noopener noreferrer"},$n={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/first-child",target:"_blank",rel:"noopener noreferrer"},Zn={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/last-child",target:"_blank",rel:"noopener noreferrer"},ea={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/first-child-or-null",target:"_blank",rel:"noopener noreferrer"},sa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/last-child-or-null",target:"_blank",rel:"noopener noreferrer"},na={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/remove-self",target:"_blank",rel:"noopener noreferrer"},aa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/remove-self-in-layout",target:"_blank",rel:"noopener noreferrer"},oa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/tooltip-text-compat",target:"_blank",rel:"noopener noreferrer"},ta={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/animate",target:"_blank",rel:"noopener noreferrer"},la={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/show-ime",target:"_blank",rel:"noopener noreferrer"},ia={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/hide-ime",target:"_blank",rel:"noopener noreferrer"},ra={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/perform-key-pressed",target:"_blank",rel:"noopener noreferrer"},pa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/perform-touch",target:"_blank",rel:"noopener noreferrer"},ca={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/set-interval-on-click-listener",target:"_blank",rel:"noopener noreferrer"},da={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-padding",target:"_blank",rel:"noopener noreferrer"},ua={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-margins",target:"_blank",rel:"noopener noreferrer"},ya={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-margins-relative",target:"_blank",rel:"noopener noreferrer"},ma={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/set-margins",target:"_blank",rel:"noopener noreferrer"},ha={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/walk-to-root",target:"_blank",rel:"noopener noreferrer"},va={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/walk-through-children",target:"_blank",rel:"noopener noreferrer"},ba={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/index-of-in-parent",target:"_blank",rel:"noopener noreferrer"},Aa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/outline-provider",target:"_blank",rel:"noopener noreferrer"},Da={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/-view-layout-params.html",target:"_blank",rel:"noopener noreferrer"},Ba={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/-layout-params-match-parent",target:"_blank",rel:"noopener noreferrer"},ga={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/-layout-params-wrap-content",target:"_blank",rel:"noopener noreferrer"},Ca=e("p",null,[s("Extensions for "),e("code",null,"View"),s(".")],-1),wa=o(`<p><code>View</code> is an important part of the user interface, when using Kotlin, <code>androidx</code> provides us with extended functions for <code>View</code>, but it is still not perfect enough.</p><p><code>BetterAndroid</code> has been improved and enriched based on the related extension functions of <code>androidx</code>, here are some extension functions you can use.</p><p>Get the location of <code>View</code> on the screen.</p><p>You can get a <code>Point</code> object in the following way, which contains the location of the <code>View</code> on the screen.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Get the location of the View on the screen.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> location </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.location</span></span>
<span class="line"><span style="color:#768390;">// X coordinate.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> x </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> location.x</span></span>
<span class="line"><span style="color:#768390;">// Y coordinate.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> y </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> location.y</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Get the tag of the current <code>View</code>.</p><p>In traditional writing, we need to use <code>View.getTag</code> to get the tag object, and then use <code>as</code> to convert it to the type we need.</p><p>This way of writing seems very cumbersome, so <code>BetterAndroid</code> provides a simpler way for this.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your View object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Specify the type of the tag (if the type is known and determined).</span></span>
<span class="line"><span style="color:#768390;">// The return result can be null.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> tag </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">tag</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">String</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Specify the type and ID of the tag (if the type is known and determined).</span></span>
<span class="line"><span style="color:#768390;">// The return result can be null.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> tag </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">getTag</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">String</span><span style="color:#ADBAC7;">&gt;(R.id.my_tag)</span></span>
<span class="line"><span style="color:#768390;">// Specify the type and ID of the tag and set a default value (if the type is known and determined).</span></span>
<span class="line"><span style="color:#768390;">// The return result will not be null,</span></span>
<span class="line"><span style="color:#768390;">// if the type is incorrect or the tag does not exist, the default value will be returned.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> tag </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">getTag</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">String</span><span style="color:#ADBAC7;">&gt;(R.id.my_tag, </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Get the parent layout of the current <code>View</code>.</p><p>In traditional writing, we need to use <code>View.parent</code> to get the <code>ViewParent</code> object, and then use <code>as</code> to convert to <code>ViewGroup</code> to get the parent layout object.</p><p>This way of writing seems very cumbersome, so <code>BetterAndroid</code> provides a simpler way for this.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your View object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Get the parent layout of the current View.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> parent: </span><span style="color:#F69D50;">ViewGroup</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">parent</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Specify the type of the parent layout (if the type is known and determined).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> parent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">parent</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">LinearLayout</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// When you are not sure whether the parent layout exists, you can also use the following method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> parent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">parentOrNull</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Get the child layout of the current <code>ViewGroup</code>.</p><p>In traditional writing, we need to use <code>ViewGroup.getChildAt</code> to get the <code>View</code> object, and then use <code>as</code> to convert to <code>View</code> to get the child layout object.</p><p>This way of writing also seems very troublesome, so <code>BetterAndroid</code> also provides a simpler way.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your ViewGroup object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> viewGroup: </span><span style="color:#F69D50;">ViewGroup</span></span>
<span class="line"><span style="color:#768390;">// Get the sublayout of the current ViewGroup.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> child: </span><span style="color:#F69D50;">View</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewGroup.</span><span style="color:#DCBDFB;">child</span><span style="color:#ADBAC7;">(index </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Specify the type of sublayout (if the type is known and determined).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> child </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewGroup.</span><span style="color:#DCBDFB;">child</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">Button</span><span style="color:#ADBAC7;">&gt;(index </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Get the first sublayout of the current ViewGroup.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> firstChild: </span><span style="color:#F69D50;">View</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewGroup.firstChild</span></span>
<span class="line"><span style="color:#768390;">// Get the last sublayout of the current ViewGroup.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> lastChild: </span><span style="color:#F69D50;">View</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewGroup.lastChild</span></span>
<span class="line"><span style="color:#768390;">// When you are not sure whether the sublayout exists, you can also use the following method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> child </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewGroup.</span><span style="color:#DCBDFB;">childOrNull</span><span style="color:#ADBAC7;">(index </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> firstChild </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewGroup.firstChildOrNull</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> lastChild </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewGroup.lastChildOrNull</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Removes itself from the parent layout (container).</p><p>Normally, when we remove <code>View</code> from the parent layout, we need to use <code>View.getParent</code> to obtain the parent layout object, then convert it to <code>ViewGroup</code>, and finally call the <code>ViewGroup.removeView</code> method.</p><p>Now, you can more easily remove itself from the parent layout using the following method, if the parent layout does not exist or the parent layout is not a <code>ViewGroup</code> (which usually does not exist), this method will have no effect and no need to worry about any negative effects.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Remove itself from parent layout.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">removeSelf</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Use the ViewGroup.removeViewInLayout method to remove itself.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">removeSelfInLayout</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set tooltip text (backward compatible).</p><p>In Android 8.0 (26) and above, you can use <code>View.tooltipText</code> to set the tooltip text. Although <code>androidx</code> provides <code>ViewCompat.setTooltipText</code> to support usage below version 26, it will be ineffective on versions below 26, which does not essentially solve the problem.</p><p>Therefore, <code>BetterAndroid</code> provides a <code>View.tooltipTextCompat</code> method, which will use <code>Toast</code> to simulate the tooltip text on lower sdk systems and can retrieve the text you set.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Set tooltip text.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.tooltipTextCompat </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#768390;">// Get tooltip text.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> tooltipText </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.tooltipTextCompat</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create animations.</p><p><code>BetterAndroid</code> provides a lambda implementation of the <code>animate</code> method for <code>View</code>, which will automatically call the <code>start</code> method.</p><p>You can use it to create some simple animation effects.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your View.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Create animation.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">animate</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Show or hide the input method (IME).</p><p>Normally, controlling the showing and hiding of the input method can be done automatically through the focus of the input box, but in some cases we want to be able to manually control the showing and hiding of the input method.</p><p>If the current <code>View</code> is in <code>Activity</code>, you can use the following methods to show or hide the input method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Show input method.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">showIme</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Hide input method.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">hideIme</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In Android 11 and above, the above method will use <code>WindowInsetsController</code> to control the showing and hiding of the input method.</p><p>When <code>View</code> is not in <code>Activity</code> or the current Android version is lower than Android 11, <code>InputMethodManager</code> will be used to control the showing and hiding of the input method.</p>`,43),fa={class:"custom-container tip"},xa=e("p",{class:"custom-container-title"},"Tips",-1),Fa=e("p",null,[s("If you need to use drag and drop to control the showing or hiding of input methods (window insets animation), currently "),e("code",null,"BetterAndroid"),s(" does not provide related extension functions.")],-1),ka={href:"https://developer.android.com/reference/android/view/WindowInsetsAnimationController",target:"_blank",rel:"noopener noreferrer"},_a=o(`<div class="custom-container warning"><p class="custom-container-title">Notice</p><p>In Android 11 and above, it is recommended to set the <code>android:windowSoftInputMode</code> parameter of <code>Activity</code> to <code>adjustResize</code> to better control the showing and hiding of the input method.</p><p>If your <code>View</code> is not in <code>Activity</code> or the current Android version is lower than 11, the above solution may not be effective under certain conditions.</p><p>When <code>Activity</code> is first started, it is recommended to delay processing of show or hide input method events, otherwise it may be ineffective, and the interval between show and hide events should not be too short.</p></div><p>Simulate touch events.</p><p>The <code>performClick</code> method provided by <code>View</code> can only simulate click events, if you need to simulate touch events, you can use the <code>View.performTouch</code> method provided by <code>BetterAndroid</code>.</p><p>The parameters accepted by this method are shown in the table below.</p><table><thead><tr><th>Parameter Name</th><th>Parameter Type</th><th>Parameter Description</th></tr></thead><tbody><tr><td><code>downX</code></td><td><code>Float</code></td><td>Simulates the down X coordinate of a touch event.</td></tr><tr><td><code>downY</code></td><td><code>Float</code></td><td>Simulates the down Y coordinate of a touch event.</td></tr><tr><td><code>upX</code></td><td><code>Float</code></td><td>Simulate the lift X coordinate of a touch event.</td></tr><tr><td><code>upY</code></td><td><code>Float</code></td><td>Simulate the lift Y coordinate of a touch event.</td></tr><tr><td><code>duration</code></td><td><code>Long</code></td><td>The duration of the simulated touch event. (from press to lift), in milliseconds</td></tr></tbody></table><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Simulate touch events from (15, 30) to (105, 130) for 500 milliseconds.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">performTouch</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">15f</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">30f</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">105f</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">130f</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">500</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Simulate key events.</p><p>You can simulate physical keyboard or input method (IME) key events sent to the current <code>View</code>, for example in <code>EditText</code> you can simulate pressing the backspace key to delete text.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">EditText</span></span>
<span class="line"><span style="color:#768390;">// Simulate pressing the backspace key.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">performKeyPressed</span><span style="color:#ADBAC7;">(KeyEvent.KEYCODE_DEL)</span></span>
<span class="line"><span style="color:#768390;">// You can add the duration parameter at the end to set the duration (from pressing to lifting),</span></span>
<span class="line"><span style="color:#768390;">// the unit is milliseconds.</span></span>
<span class="line"><span style="color:#768390;">// Default is 150 milliseconds.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">performKeyPressed</span><span style="color:#ADBAC7;">(KeyEvent.KEYCODE_DEL, duration </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">500</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set interval click event.</p><p>The <code>setOnClickListener</code> method provided by <code>View</code> may cause misoperations if the click event is triggered multiple times in a short period.</p><p>To address this, <code>BetterAndroid</code> provides the <code>setIntervalOnClickListener</code> method.</p><p>Within the specified interval, repeated click events will be ignored.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Set interval click event.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">setIntervalOnClickListener</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// You can pass the timeMillis parameter to set the interval time for the click event, in milliseconds.</span></span>
<span class="line"><span style="color:#768390;">// The default is 300 milliseconds.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">setIntervalOnClickListener</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">1000</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Update <code>View</code>s <code>padding</code> and <code>margin</code>.</p><p><code>androidx</code> provides a <code>View.updatePadding</code> method, and <code>BetterAndroid</code> provides a method that can update the horizontal and vertical directions, if you only need to update the <code>padding</code> in these two directions, you don&#39;t need to write two repeat the value.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Update the padding in the horizontal direction.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">updatePadding</span><span style="color:#ADBAC7;">(horizontal </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Update the padding in the vertical direction.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">updatePadding</span><span style="color:#ADBAC7;">(vertical </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BetterAndroid</code> also provides a <code>View.updateMargins</code> and <code>View.setMargins</code> method, which is used in the same way as <code>View.updatePadding</code>.</p><p>This method will only take effect when <code>LayoutParams</code> of <code>View</code> is <code>MarginLayoutParams</code>, and will have no effect in other cases.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Update the margin in the horizontal direction.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">updateMargins</span><span style="color:#ADBAC7;">(horizontal </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Update the margin in the vertical direction.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">updateMargins</span><span style="color:#ADBAC7;">(vertical </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Update left margin.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">updateMargins</span><span style="color:#ADBAC7;">(left </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Update start margin.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">updateMarginsRelative</span><span style="color:#ADBAC7;">(start </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Set the margin for all 4 sides.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">setMargins</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Traverse the parent layout and all child layouts.</p><p>Normally, we need to use the <code>View.parent</code> method to recursively traverse the parent layout and the <code>ViewGroup.children</code> method to recursively traverse the child layout.</p><p><code>BetterAndroid</code> provides a simpler way for this, its design is inspired by the <code>walk</code> extension method in <code>File</code> provided by Kotlin.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your View object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your ViewGroup object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> viewGroup: </span><span style="color:#F69D50;">ViewGroup</span></span>
<span class="line"><span style="color:#768390;">// Get all parent layouts.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> parents </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">walkToRoot</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Get all sublayouts.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> children </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewGroup.</span><span style="color:#DCBDFB;">walkThroughChildren</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Gets the index of <code>View</code> in the parent layout.</p><p>In traditional writing, we need to use <code>ViewGroup.indexOfChild</code> to get the index of <code>View</code> in the parent layout.</p><p>This way of writing doesn&#39;t seem very friendly, so <code>BetterAndroid</code> provides a simpler way for this.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your View object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Get the index of the View in the parent layout.</span></span>
<span class="line"><span style="color:#768390;">// If the parent layout does not exist, -1 will be returned.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> index </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">indexOfInParent</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Sets the <code>View</code>&#39;s <code>outlineProvider</code>.</p><p><code>OutlineProvider</code> of <code>View</code> is used to set the outer outline of <code>View</code>, its type is <code>ViewOutlineProvider</code>.</p><p>In Kotlin, we need to use <code>view.outlineProvider = object : ViewOutlineProvider()</code> to set it, which does not seem friendly.</p><p>So <code>BetterAndroid</code> provides a simpler way for this.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your View object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Set View&#39;s outlineProvider.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">outlineProvider</span><span style="color:#ADBAC7;"> { view, outline </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// For example, you can set the outer outline of a circle here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    outline.</span><span style="color:#DCBDFB;">setOval</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, view.width, view.height)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Or you can set the outer outline of the rounded rectangle here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    outline.</span><span style="color:#DCBDFB;">setRoundRect</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, view.width, view.height, </span><span style="color:#6CB6FF;">10f</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Remember to set clipToOutline to true after setting outlineProvider.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.clipToOutline </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Manually create a <code>LayoutParams</code> object.</p><p><code>LayoutParams</code> is the layout parameter of <code>View</code>, and its type depends on the parent layout of <code>View</code>, for example, the <code>LayoutParams</code> of <code>LinearLayout</code> is <code>LinearLayout.LayoutParams</code>.</p><p>Sometimes, you may need to manually create this object and set it into <code>View</code>, in this case, <code>BetterAndroid</code> provides the <code>ViewLayoutParams</code> method, now, you can save yourself the step of creating an object using the super long <code>ViewGroup.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT)</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Create a LinearLayout.LayoutParams object, by default, width and height are both WRAP_CONTENT.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> layoutParams </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ViewLayoutParams</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">LinearLayout</span><span style="color:#ADBAC7;">.</span><span style="color:#F69D50;">LayoutParams</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Set both width and height to MATCH_PARENT.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> layoutParams </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ViewLayoutParams</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">LinearLayout</span><span style="color:#ADBAC7;">.</span><span style="color:#F69D50;">LayoutParams</span><span style="color:#ADBAC7;">&gt;(marchParent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Just set width to MATCH_PARENT.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> layoutParams </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ViewLayoutParams</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">LinearLayout</span><span style="color:#ADBAC7;">.</span><span style="color:#F69D50;">LayoutParams</span><span style="color:#ADBAC7;">&gt;(widthMatchParent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Manually set width and height.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> layoutParams </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ViewLayoutParams</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">LinearLayout</span><span style="color:#ADBAC7;">.</span><span style="color:#F69D50;">LayoutParams</span><span style="color:#ADBAC7;">&gt;(</span><span style="color:#6CB6FF;">50</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context), </span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Set to view.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.layoutParams </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> layoutParams</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="layoutinflater-extension" tabindex="-1"><a class="header-anchor" href="#layoutinflater-extension" aria-hidden="true">#</a> LayoutInflater Extension</h3>`,47),Ta={class:"custom-container tip"},qa=e("p",{class:"custom-container-title"},"Contents of This Section",-1),Va={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/layout-inflater",target:"_blank",rel:"noopener noreferrer"},Ia={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/inflate",target:"_blank",rel:"noopener noreferrer"},Sa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/inflate-or-null",target:"_blank",rel:"noopener noreferrer"},La=e("p",null,[s("Extensions for "),e("code",null,"LayoutInflater"),s(".")],-1),Wa=o(`<p>Normally we can use <code>getLayoutInflater</code> or <code>LayoutInflater.from(context)</code> in <code>Activity</code> to create a <code>LayoutInflater</code> object, and then use the <code>inflate</code> method to inflate the layout.</p><p><code>BetterAndroid</code> simplifies this step for you, now, you can use <code>layoutInflater</code> in <code>Context</code> to get the <code>LayoutInflater</code> object, and then use the <code>inflate</code> method to load the layout.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your ViewGroup.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">ViewGroup</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// You can inflate the layout in ViewGroup using the following method.</span></span>
<span class="line"><span style="color:#768390;">// If root is not null, attachToRoot defaults to true.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> myView </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.layoutInflater.</span><span style="color:#DCBDFB;">inflate</span><span style="color:#ADBAC7;">(R.layout.my_layout, root </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view, attachToRoot </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// You can convert the inflated layout to the specified type without writing an &quot;as&quot;.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> myView </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.layoutInflater.</span><span style="color:#DCBDFB;">inflate</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">LinearLayout</span><span style="color:#ADBAC7;">&gt;(R.layout.my_layout, root </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view)</span></span>
<span class="line"><span style="color:#768390;">// You can use the overloaded function to ensure the</span></span>
<span class="line"><span style="color:#768390;">// inflated layout type is correct, inflate failure or type error will return null.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> myView </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.layoutInflater.</span><span style="color:#DCBDFB;">inflateOrNull</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">LinearLayout</span><span style="color:#ADBAC7;">&gt;(R.layout.my_layout, root </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="textview-extension" tabindex="-1"><a class="header-anchor" href="#textview-extension" aria-hidden="true">#</a> TextView Extension</h3>`,5),Ka={class:"custom-container tip"},Ra=e("p",{class:"custom-container-title"},"Contents of This Section",-1),Oa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/is-ellipsize",target:"_blank",rel:"noopener noreferrer"},Pa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/is-underline",target:"_blank",rel:"noopener noreferrer"},Ea={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/is-strike-through",target:"_blank",rel:"noopener noreferrer"},Ga={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/text-color",target:"_blank",rel:"noopener noreferrer"},Na={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/text-to-String",target:"_blank",rel:"noopener noreferrer"},Ma={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/hint-to-String",target:"_blank",rel:"noopener noreferrer"},Ya={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-text",target:"_blank",rel:"noopener noreferrer"},ja={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/clear",target:"_blank",rel:"noopener noreferrer"},Ua={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-typeface",target:"_blank",rel:"noopener noreferrer"},Ha={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-compound-drawables",target:"_blank",rel:"noopener noreferrer"},za={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/update-compound-drawables-with-intrinsic-bounds",target:"_blank",rel:"noopener noreferrer"},Xa={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/set-digits",target:"_blank",rel:"noopener noreferrer"},Ja=e("p",null,[s("Extensions for "),e("code",null,"TextView"),s(".")],-1),Qa=o(`<p><code>TextView</code> is one of the most commonly used components in Android, <code>BetterAndroid</code> provides <code>TextView</code> with some extended functions that are more convenient to use in Kotlin.</p><p>Determine whether there is an ellipsis in <code>TextView</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Determine whether there is an ellipsis in TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isEllipsize </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> textView.isEllipsize</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Get and set the underline effect of <code>TextView</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Get whether the TextView has an underline effect.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isUnderline </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> textView.isUnderline</span></span>
<span class="line"><span style="color:#768390;">// Set the underline effect of TextView.</span></span>
<span class="line"><span style="color:#ADBAC7;">textView.isUnderline </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Get and set the strike through effect of <code>TextView</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Get whether the TextView has a strike through effect.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isStrikeThrough </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> textView.isStrikeThrough</span></span>
<span class="line"><span style="color:#768390;">// Set the strikethrough effect of TextView.</span></span>
<span class="line"><span style="color:#ADBAC7;">textView.isStrikeThrough </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>When setting the underline or strikethrough effect, you may need to manually enable anti-aliasing for <code>TextView</code> using <code>paint.isAntiAlias = true</code> to achieve better results, this is a historical issue with drawing performance in Android.</p></div><p>Get and set the text color of <code>TextView</code>.</p><p>Although you can use the <code>TextView.setTextColor</code> method to set the text color, it is not well recognized as the Getter and Setter methods in Kotlin because the corresponding <code>TextView.getTextColors</code> is a <code>ColorStateList</code> object.</p><p>So <code>BetterAndroid</code> has added an extension for this function, now, you can use the following methods to get and set the text color of <code>TextView</code>.</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Get the text color of TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> textView.textColor</span></span>
<span class="line"><span style="color:#768390;">// Set the text color of TextView.</span></span>
<span class="line"><span style="color:#ADBAC7;">textView.textColor </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.RED</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Get the text of <code>TextView</code> and convert it to <code>String</code>.</p><p>Normally, the text obtained directly using <code>TextView.getText</code> is a <code>CharSequence</code> object.</p><p>If you need to convert it to <code>String</code>, you need <code>getText().toString()</code>, which seems cumbersome.</p><p><code>BetterAndroid</code> provides a simpler way for this. Now, you can use the following method to get the text of <code>TextView</code> and convert it to <code>String</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Get the text of TextView and convert it to String.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> textView.</span><span style="color:#DCBDFB;">textToString</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Using <code>TextView.getHint</code> can also be done in a similar way.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Get the hint text of TextView and convert it to String.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> hint </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> textView.</span><span style="color:#DCBDFB;">hintToString</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Update the text of <code>EditText</code>.</p><p><code>EditText</code> inherits from <code>TextView</code>, directly using <code>setText(...)</code> to update the text will cause the cursor position to still be at the first position.</p><p><code>BetterAndroid</code> provides a more convenient way for this, it will automatically set <code>setSelection</code> for you according to the length of the text to keep the cursor position at the end of the text.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your EditText.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> editText: </span><span style="color:#F69D50;">EditText</span></span>
<span class="line"><span style="color:#768390;">// Update the text of EditText.</span></span>
<span class="line"><span style="color:#ADBAC7;">editText.</span><span style="color:#DCBDFB;">updateText</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Clear the text of <code>TextView</code>.</p><p>Using <code>setText(&quot;&quot;)</code> or <code>text = &quot;&quot;</code> does not seem very friendly, so <code>BetterAndroid</code> provides a simpler way for this.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Clear the text of TextView.</span></span>
<span class="line"><span style="color:#ADBAC7;">textView.</span><span style="color:#DCBDFB;">clear</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Update <code>TextView</code>&#39;s <code>Typeface</code>.</p><p><code>Typeface</code> is a font in Android, sometimes we only need to care about the thickness and italics of the font without setting a specific font.</p><p><code>BetterAndroid</code> provides a simpler way for this, now, you can update the <code>Typeface</code> of <code>TextView</code> using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Only set the TextView&#39;s font to bold.</span></span>
<span class="line"><span style="color:#ADBAC7;">textView.</span><span style="color:#DCBDFB;">updateTypeface</span><span style="color:#ADBAC7;">(Typeface.BOLD)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Updated <code>CompoundDrawables</code> of <code>TextView</code>.</p><p><code>CompoundDrawables</code> are compound drawings in <code>TextView</code> that contain <code>Drawable</code> objects.</p><p>Using the traditional <code>setCompoundDrawables</code> method requires passing in four parameters and filling in <code>null</code> for unnecessary parameters, which seems very troublesome.</p><p><code>BetterAndroid</code> provides a simpler way for this, now, you can directly update the <code>CompoundDrawables</code> of <code>TextView</code> using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your TextView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> textView: </span><span style="color:#F69D50;">TextView</span></span>
<span class="line"><span style="color:#768390;">// Update CompoundDrawables of TextView.</span></span>
<span class="line"><span style="color:#768390;">// We only need to fill in the parameters in the required direction,</span></span>
<span class="line"><span style="color:#768390;">// and the parameters in other directions will be automatically reset to the original CompoundDrawables.</span></span>
<span class="line"><span style="color:#ADBAC7;">textView.</span><span style="color:#DCBDFB;">updateCompoundDrawables</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    left </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_left,</span></span>
<span class="line"><span style="color:#ADBAC7;">    top </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_top,</span></span>
<span class="line"><span style="color:#ADBAC7;">    right </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_right,</span></span>
<span class="line"><span style="color:#ADBAC7;">    bottom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_bottom</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Use setCompoundDrawablesWithIntrinsicBounds to update CompoundDrawables.</span></span>
<span class="line"><span style="color:#ADBAC7;">textView.</span><span style="color:#DCBDFB;">updateCompoundDrawablesWithIntrinsicBounds</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    left </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_left,</span></span>
<span class="line"><span style="color:#ADBAC7;">    top </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_top,</span></span>
<span class="line"><span style="color:#ADBAC7;">    right </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_right,</span></span>
<span class="line"><span style="color:#ADBAC7;">    bottom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_bottom</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set the input limits (digits) of the <code>TextView</code>.</p><p>This attribute can only be conveniently set in XML using <code>digits</code>, but if you need to modify it dynamically, you will need the <code>TextView.setKeyListener</code> method.</p><p>For this purpose, <code>BetterAndroid</code> provides a <code>setDigits</code> method for <code>TextView</code>, you can use the following method to set the input limit of <code>TextView</code>.</p><p>Since the input function is completed by <code>EditText</code>, and <code>EditText</code> inherits from <code>TextView</code>, this method is generally only used in <code>EditText</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your EditText.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> editText: </span><span style="color:#F69D50;">EditText</span></span>
<span class="line"><span style="color:#768390;">// Set the input box to only input numbers.</span></span>
<span class="line"><span style="color:#ADBAC7;">editText.</span><span style="color:#DCBDFB;">setDigits</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;0123456789&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Set the input box to only input lowercase letters.</span></span>
<span class="line"><span style="color:#ADBAC7;">editText.</span><span style="color:#DCBDFB;">setDigits</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// The second parameter is inputType, you can limit the display behavior of the input box here.</span></span>
<span class="line"><span style="color:#768390;">// For example, only numbers can be entered and displayed as passwords.</span></span>
<span class="line"><span style="color:#ADBAC7;">editText.</span><span style="color:#DCBDFB;">setDigits</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;0123456789&quot;</span><span style="color:#ADBAC7;">, InputType.TYPE_CLASS_NUMBER or InputType.TYPE_NUMBER_VARIATION_PASSWORD)</span></span>
<span class="line"><span style="color:#768390;">// The third parameter is locale,</span></span>
<span class="line"><span style="color:#768390;">// where you can set the country area of the input box. (only available in Android 8 and above)</span></span>
<span class="line"><span style="color:#768390;">// For example, set to mainland China.</span></span>
<span class="line"><span style="color:#ADBAC7;">editText.</span><span style="color:#DCBDFB;">setDigits</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;0123456789&quot;</span><span style="color:#ADBAC7;">, locale </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Locale.CHINA)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="recyclerview-extension" tabindex="-1"><a class="header-anchor" href="#recyclerview-extension" aria-hidden="true">#</a> RecyclerView Extension</h3>`,51),$a={class:"custom-container tip"},Za=e("p",{class:"custom-container-title"},"Contents of This Section",-1),eo={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.view/layout-manager",target:"_blank",rel:"noopener noreferrer"},so=e("p",null,[s("Extensions for "),e("code",null,"RecyclerView"),s(".")],-1),no=o(`<p><code>RecyclerView</code> is one of the most commonly used list components in Android.</p><p><code>BetterAndroid</code> provides some extensions to make it more convenient to use in Kotlin.</p><p>Get the <code>LayoutManager</code> of <code>RecyclerView</code>.</p><p><code>BetterAndroid</code> provides a convenient way to get the <code>LayoutManager</code>.</p><p>Now, you no longer need to get the <code>layoutManager</code> of <code>RecyclerView</code> and then use <code>as</code> to convert it to the corresponding type.</p><p>You can directly use the following method to get the <code>LayoutManager</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your RecyclerView.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> recyclerView: </span><span style="color:#F69D50;">RecyclerView</span></span>
<span class="line"><span style="color:#768390;">// Get the LayoutManager of RecyclerView, if the type is incorrect or does not exist, it will return null.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> layoutManager </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> recyclerView.</span><span style="color:#DCBDFB;">layoutManager</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">LinearLayoutManager</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="viewbinding-extension" tabindex="-1"><a class="header-anchor" href="#viewbinding-extension" aria-hidden="true">#</a> ViewBinding Extension</h3>`,9),ao={class:"custom-container tip"},oo=e("p",{class:"custom-container-title"},"Contents of This Section",-1),to={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.binding/-view-binding",target:"_blank",rel:"noopener noreferrer"},lo={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.binding/view-binding",target:"_blank",rel:"noopener noreferrer"},io={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.binding/-view-binding-builder",target:"_blank",rel:"noopener noreferrer"},ro={href:"https://betterandroid.github.io/BetterAndroid/KDoc/ui-extension/ui-extension/com.highcapable.betterandroid.ui.extension.binding/-view-binding-delegate",target:"_blank",rel:"noopener noreferrer"},po=e("p",null,[s("Extensions for "),e("code",null,"ViewBinding"),s(".")],-1),co=o("<p><code>ViewBinding</code> is a new feature in Android, which can help us operate components in the layout more conveniently.</p><p>But obviously the official method of using it is not open, you can get the interface <code>ViewBinding</code> of the generated class, and there is no implementation of <code>inflate</code> and other methods, you can only use a method like <code>ActivityMainBinding.inflate(layoutInflater)</code> to inflate the layout.</p><p>So <code>BetterAndroid</code> performed reflection processing on it to obtain the <code>inflate</code> method and extract the object type through generics.</p>",3),uo={href:"https://github.com/DylanCaiCoding/ViewBindingKTX",target:"_blank",rel:"noopener noreferrer"},yo=o(`<p>Now you can create a <code>ViewBindingBuilder</code> using the following and pass it to wherever needed for manipulation.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Create a ViewBindingBuilder.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> builder </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ViewBinding</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">ActivityMainBinding</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Inflate the layout when needed.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> binding </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> builder.</span><span style="color:#DCBDFB;">inflate</span><span style="color:#ADBAC7;">(layoutInflater)</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your View.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// You can also bind to an existing View.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> binding </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> builder.</span><span style="color:#DCBDFB;">bind</span><span style="color:#ADBAC7;">(view)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this way we have implemented the passing of <code>ViewBinding</code>, and you can use it anywhere.</p><p>You can also use delegation to use <code>ViewBinding</code> in <code>Activity</code> and other places.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">YourActvity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">Activity</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> binding: </span><span style="color:#F69D50;">ActivityMainBinding</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">by</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">viewBinding</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">setContentView</span><span style="color:#ADBAC7;">(binding.root)</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you need to encapsulate <code>ViewBinding</code> into the parent class and bind it to the subclass using generics, you can use the following method.</p><p>First we need to create a parent class.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">open</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">YourBaseActvity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">VB</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">ViewBinding</span><span style="color:#ADBAC7;">&gt; : </span><span style="color:#F69D50;">Activity</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">lateinit</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> binding: </span><span style="color:#F69D50;">VB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">       </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">       </span><span style="color:#768390;">// Inflate the view binding.</span></span>
<span class="line"><span style="color:#ADBAC7;">       binding </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ViewBindingBuilder.</span><span style="color:#DCBDFB;">fromGeneric</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">VB</span><span style="color:#ADBAC7;">&gt;(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">).</span><span style="color:#DCBDFB;">inflate</span><span style="color:#ADBAC7;">(layoutInflater)</span></span>
<span class="line"><span style="color:#ADBAC7;">       </span><span style="color:#DCBDFB;">setContentView</span><span style="color:#ADBAC7;">(binding.root)</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then inherit this parent class as a global object into the subclass.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">YourActivity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">YourBaseActivity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">ActivityMainBinding</span><span style="color:#ADBAC7;">&gt;() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">       </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">       binding.mainText.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14),mo={class:"custom-container tip"},ho=e("p",{class:"custom-container-title"},"Tips",-1),vo=e("code",null,"AppBindingActivity",-1),bo=e("code",null,"AppBindingFragment",-1),Ao=e("div",{class:"custom-container danger"},[e("p",{class:"custom-container-title"},"Pay Attention"),e("p",null,[s("If your application was compiled with obfuscation enabled, you need to refer to "),e("a",{href:"../config/r8-proguard"},"R8 & Proguard Obfuscate"),s(" to correctly configure the obfuscation rules.")])],-1);function Do(Bo,go){const a=l("ExternalLinkIcon"),t=l("RouterLink");return p(),c("div",null,[u,e("p",null,[s("You can view the KDoc "),e("a",y,[s("click here"),n(a)]),s(".")]),m,e("div",h,[v,e("p",null,[e("a",b,[s("Activity / Fragment  startActivity"),n(a)])]),e("p",null,[e("a",A,[s("Activity / Fragment  startActivityOrElse"),n(a)])]),e("p",null,[e("a",D,[s("Activity  isInMultiWindowModeCompat"),n(a)])]),B]),g,e("div",C,[w,f,e("p",null,[s("Please refer to "),e("a",x,[s("Package visibility filtering on Android"),n(a)]),s(".")])]),F,e("div",k,[_,e("p",null,[e("a",T,[s("Fragment  fragmentManager"),n(a)])]),e("p",null,[e("a",q,[s("Fragment  parentFragment"),n(a)])]),e("p",null,[e("a",V,[s("Fragment  findFragment"),n(a)])]),e("p",null,[e("a",I,[s("FragmentTransaction"),n(a)])]),e("p",null,[e("a",S,[s("Fragment  attach"),n(a)])]),e("p",null,[e("a",L,[s("Fragment  detach"),n(a)])]),e("p",null,[e("a",W,[s("Fragment  replace"),n(a)])]),e("p",null,[e("a",K,[s("Fragment  show"),n(a)])]),e("p",null,[e("a",R,[s("Fragment  hide"),n(a)])]),O]),P,E,e("p",null,[G,s(" will automatically help you introduce the "),N,s(" dependency, you can "),e("a",M,[s("refer here"),n(a)]),s(" to get started.")]),Y,e("div",j,[U,e("p",null,[e("a",H,[s("WindowInsetsWrapper"),n(a)])]),z,e("p",null,[e("a",X,[s("WindowInsetsWrapper.Absolute"),n(a)])]),J,e("p",null,[e("a",Q,[s("InsetsWrapper"),n(a)])]),$,e("p",null,[e("a",Z,[s("Insets"),n(a)])]),ee]),se,e("div",ne,[ae,e("p",null,[oe,s(" is designed with reference to the "),e("a",te,[s("Window Insets API"),n(a)]),s(" officially provided by Jetpack Compose.")]),le]),ie,e("div",re,[pe,e("p",null,[e("a",ce,[s("LifecycleOwner  context"),n(a)])]),e("p",null,[e("a",de,[s("LifecycleOwner  activity"),n(a)])]),e("p",null,[e("a",ue,[s("LifecycleOwner  requireContext"),n(a)])]),e("p",null,[e("a",ye,[s("LifecycleOwner  requireActivity"),n(a)])]),e("p",null,[e("a",me,[s("View  lifecycleOwner"),n(a)])]),e("p",null,[e("a",he,[s("View  requireLifecycleOwner"),n(a)])]),ve]),be,e("div",Ae,[De,e("p",null,[e("a",Be,[s("LifecycleOwner  launch"),n(a)])]),e("p",null,[e("a",ge,[s("LifecycleOwner  async"),n(a)])]),e("p",null,[e("a",Ce,[s("CoroutinesScope / LifecycleOwner  runDelayed"),n(a)])]),e("p",null,[e("a",we,[s("CoroutinesScope / LifecycleOwner  repeatWithDelay"),n(a)])]),fe]),xe,e("div",Fe,[ke,e("p",null,[e("a",_e,[s("DisplayDensity"),n(a)])]),Te,e("p",null,[e("a",qe,[s("Dimension  toPx"),n(a)])]),e("p",null,[e("a",Ve,[s("Dimension  toDp"),n(a)])]),Ie]),Se,e("div",Le,[We,e("p",null,[e("a",Ke,[s("Resources  themeResId"),n(a)])]),e("p",null,[e("a",Re,[s("Resources  isUiInNightMode"),n(a)])]),e("p",null,[e("a",Oe,[s("Resources  toHexResourceId"),n(a)])]),e("p",null,[e("a",Pe,[s("Resources  getDrawableCompat"),n(a)])]),e("p",null,[e("a",Ee,[s("Resources  getColorCompat"),n(a)])]),e("p",null,[e("a",Ge,[s("Resources  getColorStateListCompat"),n(a)])]),e("p",null,[e("a",Ne,[s("Resources  getFloatCompat"),n(a)])]),e("p",null,[e("a",Me,[s("Resources  getFontCompat"),n(a)])]),e("p",null,[e("a",Ye,[s("Resources  getThemeAttrsBoolean"),n(a)])]),e("p",null,[e("a",je,[s("Resources  getThemeAttrsFloat"),n(a)])]),e("p",null,[e("a",Ue,[s("Resources  getThemeAttrsInteger"),n(a)])]),e("p",null,[e("a",He,[s("Resources  getThemeAttrsIntArray"),n(a)])]),e("p",null,[e("a",ze,[s("Resources  getThemeAttrsStringArray"),n(a)])]),e("p",null,[e("a",Xe,[s("Resources  getThemeAttrsString"),n(a)])]),e("p",null,[e("a",Je,[s("Resources  getThemeAttrsDimension"),n(a)])]),e("p",null,[e("a",Qe,[s("Resources  getThemeAttrsDrawable"),n(a)])]),e("p",null,[e("a",$e,[s("Resources  getThemeAttrsColorStateList"),n(a)])]),e("p",null,[e("a",Ze,[s("Resources  getThemeAttrsColor"),n(a)])]),e("p",null,[e("a",es,[s("Resources  areThemeAttrsIdsValueEquals"),n(a)])]),e("p",null,[e("a",ss,[s("Resources  hasThemeAttrsId"),n(a)])]),e("p",null,[e("a",ns,[s("Resources  getThemeAttrsId"),n(a)])]),e("p",null,[e("a",as,[s("Resources  getMenuFromResource"),n(a)])]),e("p",null,[e("a",os,[s("Resources  getStringArray"),n(a)])]),e("p",null,[e("a",ts,[s("Resources  getIntArray"),n(a)])]),e("p",null,[e("a",ls,[s("Resources  getColorOrNull"),n(a)])]),e("p",null,[e("a",is,[s("Resources  getColorStateListOrNull"),n(a)])]),e("p",null,[e("a",rs,[s("Resources  getIntegerOrNull"),n(a)])]),e("p",null,[e("a",ps,[s("Resources  getIntOrNull"),n(a)])]),e("p",null,[e("a",cs,[s("Resources  getTextOrNull"),n(a)])]),e("p",null,[e("a",ds,[s("Resources  getStringOrNull"),n(a)])]),e("p",null,[e("a",us,[s("Resources  getBooleanOrNull"),n(a)])]),e("p",null,[e("a",ys,[s("Resources  getFloatOrNull"),n(a)])]),e("p",null,[e("a",ms,[s("Resources  getDimensionOrNull"),n(a)])]),e("p",null,[e("a",hs,[s("Resources  getDimensionPixelSizeOrNull"),n(a)])]),e("p",null,[e("a",vs,[s("Resources  getDimensionPixelOffsetOrNull"),n(a)])]),e("p",null,[e("a",bs,[s("Resources  getLayoutDimensionOrNull"),n(a)])]),e("p",null,[e("a",As,[s("Resources  getDrawableOrNull"),n(a)])]),e("p",null,[e("a",Ds,[s("Resources  getFontOrNull"),n(a)])]),Bs]),gs,e("div",Cs,[ws,e("p",null,[e("a",fs,[s("SystemColors"),n(a)])]),xs]),Fs,e("div",ks,[_s,e("p",null,[e("a",Ts,[s("AttrState"),n(a)])]),qs,e("p",null,[e("a",Vs,[s("Color  isBrightColor"),n(a)])]),e("p",null,[e("a",Is,[s("Color  toHexColor"),n(a)])]),e("p",null,[e("a",Ss,[s("Color  toAlphaColor"),n(a)])]),e("p",null,[e("a",Ls,[s("Color  mixColorOf"),n(a)])]),e("p",null,[e("a",Ws,[s("Color  toNormalColorStateList"),n(a)])]),e("p",null,[e("a",Ks,[s("Color  toNullableColorStateList"),n(a)])]),e("p",null,[e("a",Rs,[s("Color  ColorStateList"),n(a)])]),Os]),Ps,e("div",Es,[Gs,e("p",null,[e("a",Ns,[s("Bitmap  decodeToBitmap"),n(a)])]),e("p",null,[e("a",Ms,[s("Bitmap  decodeToBitmapOrNull"),n(a)])]),e("p",null,[e("a",Ys,[s("Bitmap  createBitmap"),n(a)])]),e("p",null,[e("a",js,[s("Bitmap  createBitmapOrNull"),n(a)])]),e("p",null,[e("a",Us,[s("Bitmap  writeBitmap"),n(a)])]),e("p",null,[e("a",Hs,[s("Bitmap  compressBitmap"),n(a)])]),e("p",null,[e("a",zs,[s("Bitmap  blur"),n(a)])]),e("p",null,[e("a",Xs,[s("Bitmap  round"),n(a)])]),e("p",null,[e("a",Js,[s("Bitmap  shrink"),n(a)])]),e("p",null,[e("a",Qs,[s("Bitmap  reduce"),n(a)])]),$s,e("p",null,[e("a",Zs,[s("BitmapBlurFactory"),n(a)])]),en]),sn,e("div",nn,[an,on,tn,ln,rn,e("p",null,[s("If your app targets Android 12 and above, we recommend using the officially provided "),pn,s(" for blur operations, "),e("s",null,[s("and using the "),cn,s(" replacement "),e("a",dn,[s("renderscript-intrinsics-replacement-toolkit"),n(a)])]),s(" (Archived).")])]),un,e("div",yn,[mn,e("p",null,[e("a",hn,[s("GradientDrawableCompat"),n(a)])]),vn,e("p",null,[e("a",bn,[s("Drawable  setPaddingCompat"),n(a)])]),e("p",null,[e("a",An,[s("Drawable  setPadding"),n(a)])]),e("p",null,[e("a",Dn,[s("Drawable  updatePadding"),n(a)])]),Bn]),gn,e("div",Cn,[wn,e("p",null,[e("a",fn,[s("Toast  toast"),n(a)])]),xn]),Fn,kn,e("p",null,[s("Discussions about this issue can be found in "),e("a",_n,[s("Toast extensions on Context"),n(a)]),s(".")]),Tn,e("p",null,[s("Please refer to "),e("a",qn,[s("Custom toasts from the background are blocked"),n(a)]),s(".")]),Vn,e("div",In,[Sn,e("p",null,[s("Please refer to "),e("a",Ln,[s("Notification runtime permission"),n(a)]),s(".")])]),Wn,e("div",Kn,[Rn,e("p",null,[e("a",On,[s("Window  updateLayoutParams"),n(a)])]),e("p",null,[e("a",Pn,[s("Window  updateScreenBrightness"),n(a)])]),e("p",null,[e("a",En,[s("Window  clearScreenBrightness"),n(a)])]),Gn]),Nn,e("div",Mn,[Yn,e("p",null,[e("a",jn,[s("View  location"),n(a)])]),e("p",null,[e("a",Un,[s("View  tag"),n(a)])]),e("p",null,[e("a",Hn,[s("View  getTag"),n(a)])]),e("p",null,[e("a",zn,[s("View  parent"),n(a)])]),e("p",null,[e("a",Xn,[s("View  parentOrNull"),n(a)])]),e("p",null,[e("a",Jn,[s("View  child"),n(a)])]),e("p",null,[e("a",Qn,[s("View  childOrNull"),n(a)])]),e("p",null,[e("a",$n,[s("View  firstChild"),n(a)])]),e("p",null,[e("a",Zn,[s("View  lastChild"),n(a)])]),e("p",null,[e("a",ea,[s("View  firstChildOrNull"),n(a)])]),e("p",null,[e("a",sa,[s("View  lastChildOrNull"),n(a)])]),e("p",null,[e("a",na,[s("View  removeSelf"),n(a)])]),e("p",null,[e("a",aa,[s("View  removeSelfInLayout"),n(a)])]),e("p",null,[e("a",oa,[s("View  tooltipTextCompat"),n(a)])]),e("p",null,[e("a",ta,[s("View  animate"),n(a)])]),e("p",null,[e("a",la,[s("View  showIme"),n(a)])]),e("p",null,[e("a",ia,[s("View  hideIme"),n(a)])]),e("p",null,[e("a",ra,[s("View  performKeyPressed"),n(a)])]),e("p",null,[e("a",pa,[s("View  performTouch"),n(a)])]),e("p",null,[e("a",ca,[s("View  setIntervalOnClickListener"),n(a)])]),e("p",null,[e("a",da,[s("View  updatePadding"),n(a)])]),e("p",null,[e("a",ua,[s("View  updateMargins"),n(a)])]),e("p",null,[e("a",ya,[s("View  updateMarginsRelative"),n(a)])]),e("p",null,[e("a",ma,[s("View  setMargins"),n(a)])]),e("p",null,[e("a",ha,[s("View  walkToRoot"),n(a)])]),e("p",null,[e("a",va,[s("View  walkThroughChildren"),n(a)])]),e("p",null,[e("a",ba,[s("View  indexOfInParent"),n(a)])]),e("p",null,[e("a",Aa,[s("View  outlineProvider"),n(a)])]),e("p",null,[e("a",Da,[s("View  ViewLayoutParams"),n(a)])]),e("p",null,[e("a",Ba,[s("View  LayoutParamsMatchParent"),n(a)])]),e("p",null,[e("a",ga,[s("View  LayoutParamsWrapContent"),n(a)])]),Ca]),wa,e("div",fa,[xa,Fa,e("p",null,[s("You can refer to "),e("a",ka,[s("WindowInsetsAnimationController"),n(a)]),s(" to implement it yourself.")])]),_a,e("div",Ta,[qa,e("p",null,[e("a",Va,[s("LayoutInflater  layoutInflater"),n(a)])]),e("p",null,[e("a",Ia,[s("LayoutInflater  inflate"),n(a)])]),e("p",null,[e("a",Sa,[s("LayoutInflater  inflateOrNull"),n(a)])]),La]),Wa,e("div",Ka,[Ra,e("p",null,[e("a",Oa,[s("TextView  isEllipsize"),n(a)])]),e("p",null,[e("a",Pa,[s("TextView  isUnderline"),n(a)])]),e("p",null,[e("a",Ea,[s("TextView  isStrikeThrough"),n(a)])]),e("p",null,[e("a",Ga,[s("TextView  textColor"),n(a)])]),e("p",null,[e("a",Na,[s("TextView  textToString"),n(a)])]),e("p",null,[e("a",Ma,[s("TextView  hintToString"),n(a)])]),e("p",null,[e("a",Ya,[s("EditText  updateText"),n(a)])]),e("p",null,[e("a",ja,[s("TextView  clear"),n(a)])]),e("p",null,[e("a",Ua,[s("TextView  updateTypeface"),n(a)])]),e("p",null,[e("a",Ha,[s("TextView  updateCompoundDrawables"),n(a)])]),e("p",null,[e("a",za,[s("TextView  updateCompoundDrawablesWithIntrinsicBounds"),n(a)])]),e("p",null,[e("a",Xa,[s("TextView  setDigits"),n(a)])]),Ja]),Qa,e("div",$a,[Za,e("p",null,[e("a",eo,[s("RecyclerView  layoutManager"),n(a)])]),so]),no,e("div",ao,[oo,e("p",null,[e("a",to,[s("ViewBinding  ViewBinding"),n(a)])]),e("p",null,[e("a",lo,[s("ViewBinding  viewBinding"),n(a)])]),e("p",null,[e("a",io,[s("ViewBinding  ViewBindingBuilder"),n(a)])]),e("p",null,[e("a",ro,[s("ViewBinding  ViewBindingDelegate"),n(a)])]),po]),co,e("p",null,[s("These designs are partly inspired by the "),e("a",uo,[s("ViewBindingKTX"),n(a)]),s(" project, many thanks to the author of this project.")]),yo,e("div",mo,[ho,e("p",null,[s("You can also refer to "),n(t,{to:"/en/library/ui-extension.html#activity"},{default:i(()=>[s("ui-extension  Activity")]),_:1}),s(" to directly use the encapsulated "),vo,s(" or refer to "),n(t,{to:"/en/library/ui-extension.html#fragment"},{default:i(()=>[s("ui-extension  Fragment")]),_:1}),s(" directly uses the encapsulated "),bo,s(".")])]),Ao])}const wo=r(d,[["render",Do],["__file","ui-extension.html.vue"]]);export{wo as default};
